<ngb-tabset>
    <ngb-tab>
        <ng-template ngbTabTitle>
            Fournisseurs
            <div style="width: 10px;"></div>
            
        </ng-template>
        <ng-template ngbTabContent>  
            <ngb-tabset>
                <ngb-tab>
                <ng-template ngbTabTitle>
                    Créer un Fournisseur
                    <div style="width: 10px;"></div>
                    <a *ngIf="hasFormErrorsO1"
                        class="btn btn-lg btn-icon btn-light-danger pulse pulse-danger mr-5">
                        <i class="flaticon2-information"></i>
                        <span class="pulse-ring"></span>
                    </a>
                </ng-template>
                <ng-template ngbTabContent>  
                    <kt-portlet>
                        <kt-portlet-header [sticky]="true" [title]="getComponentTitleO1()" [class]="'card-head-lg'" [viewLoading$]="loading$">
                            <ng-container ktPortletTools>
                                <button (click)="goBackWithoutIdO1()" type="button" class="btn btn-secondary btn-sm mr-2">annuler</button>
                                <button (click)="resetO1()" [disabled]="selectedTab !== 0" type="button"
                                    class="btn btn-secondary btn-sm mr-2">Réinitialiser</button>
                                <button (click)="onSubmitO1()" type="button" class="btn btn-success btn-sm mr-2">enregistrer </button>
                    
                    
                    
                            </ng-container>
                        </kt-portlet-header>
                        <kt-portlet-body>
                            <div class="example-preview">
                                <div>
                                    <form [formGroup]="formXO1" class="form">   
                                        <div class="row">
                                            <div class="form-group col-2">
                                                <label class="form-group ">Fournisseur:</label>
                                                <input type="text" (change)="onChangeCodeO1()"
                                                    [className]="formXO1.controls['ad_addr'].errors && (formXO1.controls['ad_addr'].dirty || formXO1.controls['ad_addr'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'"
                                                    formControlName="ad_addr">
                                                <div *ngIf="formXO1.controls['ad_addr'].errors && (formXO1.controls['ad_addr'].dirty || formXO1.controls['ad_addr'].touched)"
                                                    class="invalid-feedback">Ce Champs est obligatoire</div>
                                            </div>
                                            <div class="form-group col-4">
                                                <label class="form-group ">Nom:</label>
                                                    <input type="text" id="ad_name" (change)="onchangenameO1()"
                                                        [className]="formXO1.controls['ad_name'].errors && (formXO1.controls['ad_name'].dirty || formXO1.controls['ad_name'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'"
                                                        formControlName="ad_name">
                                                    <div *ngIf="formXO1.controls['ad_name'].errors && (formXO1.controls['ad_name'].dirty || formXO1.controls['ad_name'].touched)"
                                                        class="invalid-feedback">Ce Champs est obligatoire</div>
                                            </div>
                                            <div class="form-group col-2">
                                                <label class="form-group">Temporaire:</label>
                                                <span class="switch switch-icon">
                                                    <label>
                                                        <input type="checkbox"
                                                            class="form-control form-control-sm form-control-solid"
                                                            name="select" formControlName="ad_temp" />
                                                        <span></span>
                                                    </label>
                                                </span>
                                            </div>
                                        
                                        </div>
                                        <br> <br>
                                        </form>
                                    <ngb-tabset>
                                        <ngb-tab>
                                            <ng-template ngbTabTitle>
                                                Information basique
                                                <div style="width: 10px;"></div>
                                                <a *ngIf="hasFormErrorsO1"
                                                    class="btn btn-sm btn-icon btn-light-danger pulse pulse-danger mr-5">
                                                    <i class="flaticon2-information"></i>
                                                    <span class="pulse-ring"></span>
                                                </a>
                                            </ng-template>
                                            <ng-template ngbTabContent>
                                                <form [formGroup]="addressFormO1" class="form">
                    
                                                    <kt-alert *ngIf="isExist" type="warn" [showCloseButton]="true" [duration]="10000"
                                                        (close)="onAlertCloseO1($event)">
                                                        Ce Code existe deja
                                                    </kt-alert>
                    
                                                   
                                                    <div class="row">
                                                        <div class="form-group col-6">
                                                            <label class="form-group">Addresse:</label>
                                                            
                                                                <input type="text" id="ad_line1"
                                                                class="form-control form-control-sm form-control-solid" formControlName="ad_line1">
                                                                
                                                        </div>
                                                       
                    
                                                    </div>
                    
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Pays:</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                            id="exampleSelects1" formControlName="ad_country">
                                                            <option value=""></option>
                                                            <option *ngFor="let elem of ad_countryO1" [value]="elem.code_value">
                                                                {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                               
                    
                                                        </select>
                                                        </div>
                                                   
                                                        
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Wilaya:</label>
                                                                <select class="form-control form-control-sm form-control-solid"
                                                                    id="exampleSelects2" formControlName="ad_state" (change)="onChangeStateO1()">
                                                                    <option value=""></option>
                                                                    <option *ngFor="let elem of ad_stateO1" [value]="elem.code_value">
                                                                        {{elem.code_value}} {{elem.code_cmmt}}</option>
                    
                                                                </select>
                                                            
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Commune:</label>
                                                                <select class="form-control form-control-sm form-control-solid"
                                                                    id="exampleSelects1" formControlName="ad_city">
                                                                    <option value=""></option>
                                                                    <option *ngFor="let elem of ad_cityO1" [value]="elem.code_value">
                                                                        {{elem.code_value}} {{elem.code_cmmt}}</option>
                    
                                                                </select>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Post:</label>
                                                            
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="ad_zip">
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Contact:</label>
                                                           
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="ad_attn">
                                                        </div>
                                                        
                    
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Telephone:</label>
                                                            
                                                                <input type="text"
                                                                class="form-control form-control-sm form-control-solid" formControlName="ad_phone">
                                                               
                                                            
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Pst:</label>
                                                        
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="ad_ext">
                                                            
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Fax:</label>
                                                            
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="ad_fax">
                                                            
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Contact 2:</label>
                                                           
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="ad_attn2">
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Tel 2:</label>
                                                            
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="ad_phone2">
                                                            
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Pst:</label>
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="ad_ext2">
                                                        </div>
                    
                                                        
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Fax 2</label>
                                                            
                                                                <input type="text" class="form-control form-control-sm form-control-solid" formControlName="ad_fax2">
                                                            
                                                        </div>
                    
                    
                                                    </div>
                    
                                                </form>
                                            </ng-template>
                                        </ngb-tab>
                                        <ngb-tab>
                                            <ng-template ngbTabTitle>
                                                Données fournisseur
                                                <div style="width: 10px;"></div>
                                                <a *ngIf="hasProviderFormErrorsO1"
                                                    class="btn btn-sm btn-icon btn-light-danger pulse pulse-danger mr-5">
                                                    <i class="flaticon2-information"></i>
                                                    <span class="pulse-ring"></span>
                                                </a>
                                            </ng-template>
                                            <ng-template ngbTabContent>
                                                <form [formGroup]="providerFormO1" class="form">
                    
                                                    <kt-alert *ngIf="hasProviderFormErrorsO1" type="warn" [showCloseButton]="true"
                                                        [duration]="10000" (close)="onAlertCloseO1($event)">
                                                        Modifiez quelques éléments et réessayez de soumettre.
                                                    </kt-alert>
                    
                                                    <div class="row">
                                                        <div class="form-group col-1">
                                                            <label class="form-group">SEQUENCE:</label>
                                                            <div class="input-group input-group-sm">
                                    
                                                                <input type="text"   id="SEQUENCE"
                                                                class="form-control form-control-sm form-control-solid"
                                                                    formControlName="vd_seq" (change)="onChangeSeqO1()" aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)=open1O1(content1O1)>
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                    
                                                            </div>
                                    
                                    
                                                        </div>
                                                        <div class="form-group col-4">
                                                            <label class="form-group">Nom Tri:</label>
                                                            
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="vd_sort">
                                                            
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Type:</label>
                                                           
                                                                <select class="form-control form-control-sm form-control-solid"
                                                                    formControlName="vd_type" id="exampleSelects4">
                                                                    <option value=""></option>
                                                                    <option *ngFor="let elem of vd_typeO1" [value]="elem.code_value">
                                                                        {{elem.code_value}} {{elem.code_cmmt}}</option>
                    
                                                                </select>
                                                            
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Compte Ach:</label>
                                                           
                                                                <div class="input-group input-group-sm">
                    
                                                                    <input type="text" class="form-control form-control-solid" (change)="changeAcctO1('vd_act_acct')"
                                                                        aria-describedby="basic-addon2" formControlName="vd_act_acct">
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text" (click)="open3O1(content3O1,'vd_act_acct')">
                                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                    </div>
                                                                
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Sous Compte</label>
                                                         
                                                               <div class="input-group input-group-sm">
                                                                    <input type="text" class="form-control form-control-solid"
                                                                        aria-describedby="basic-addon2" formControlName="vd_act_sub">
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                    </div>
                                                                </div>
                                                        </div>
                                                        <div class="form-group col-2 ">
                                                            <label class="form-group">centre de cout</label>
                                                                <div class="input-group input-group-sm">
                    
                                                                    <input type="text" class="form-control form-control-solid"
                                                                        aria-describedby="basic-addon2" formControlName="vd_act_cc">
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                    </div>
                                                                </div>
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Compte CF:</label>
                                                            
                                                                <div class="input-group input-group-sm">
                    
                                                                    <input type="text" class="form-control form-control-solid" (change)="changeAcctO1('vd_ap_acct')"
                                                                        aria-describedby="basic-addon2" formControlName="vd_ap_acct">
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text" (click)="open3O1(content3O1,'vd_ap_acct')">
                                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                    </div>
                                                                </div>
                                                            
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Sous Compte:</label>
                                                                <div class="input-group input-group-sm">
                    
                                                                    <input type="text" class="form-control form-control-solid"
                                                                        aria-describedby="basic-addon2" formControlName="vd_ap_sub">
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                    </div>
                                                                </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Centre de Cout:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    aria-describedby="basic-addon2" formControlName="vd_ap_cc">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Mode exp:</label>
                                                            
                                                                <select class="form-control form-control-sm form-control-solid"
                                                                    formControlName="vd_shipvia" id="exampleSelects5">
                                                                    <option value=""></option>
                                                                    <option *ngFor="let elem of vd_shipvia" [value]="elem.code_value">
                                                                        {{elem.code_value}} {{elem.code_cmmt}}</option>
                    
                                                                </select>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Banque:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    formControlName="vd_bank" aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)="openbankO1(contentbankO1)">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        
                                                    </div>
                                                    <div class="row">    
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Check Form:</label>
                                                            
                                                                <div class="input-group input-group-sm">
                    
                                                                    <input type="text" class="form-control form-control-solid"
                                                                        aria-describedby="basic-addon2" formControlName="vd_ckfrm">
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text" (click)="open4O1(content4O1,'vd_ckfrm')">
                                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                    </div>
                                                                </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Devise:</label>
                                                            
                                                                <div class="input-group input-group-sm">
                    
                                                                    <input type="text" class="form-control form-control-solid"
                                                                        aria-describedby="basic-addon2" formControlName="vd_curr">
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text" (click)="open2O1(content2O1)">
                                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                    </div>
                                                                </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Langue:</label>
                                                                <select class="form-control form-control-sm form-control-solid"
                                                                    id="exampleSelects6" formControlName="vd_lang">
                                                                    <option value=""></option>
                                                                    <option *ngFor="let elem of vd_lang" [value]="elem.code_value">
                                                                        {{elem.code_value}} {{elem.code_cmmt}}</option>
                    
                                                                </select>
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Contact d'achat</label>
                                                                <div class="input-group input-group-sm">
                    
                                                                    <input type="text" class="form-control form-control-solid"
                                                                        formControlName="vd_pur_cntct" aria-describedby="basic-addon2">
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                    </div>
                                                                </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Contact CF:</label>
                                                                 <div class="input-group input-group-sm">
                    
                                                                    <input type="text" class="form-control form-control-solid"
                                                                        formControlName="vd_ap_cntct" aria-describedby="basic-addon2">
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                    </div>
                                                                </div>
                                                            
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Crediteur divers:</label>
                                                            
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox" formControlName="vd_misc_cr"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                                                        
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Transport:</label>
                                                            
                                                                <div class="input-group input-group-sm">
                    
                                                                    <input type="text" class="form-control form-control-solid"
                                                                        formControlName="vd_carrier_id" aria-describedby="basic-addon2">
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text">
                                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                    </div>
                                                                </div>
                                                        
                                                        </div>
                                                   
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Groupe promotion</label>
                                                            
                                                                <select class="form-control form-control-sm form-control-solid"
                                                                    formControlName="vd_promo" id="exampleSelects8">
                                                                    <option value=""></option>
                                                                    <option *ngFor="let elem of vd_promo" [value]="elem.code_value">
                                                                        {{elem.code_value}} {{elem.code_cmmt}}</option>
                    
                                                                </select>
                                                          
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Fournisseur kanban:</label>
                                                            
                                                                <span class="switch switch-icon">
                                                                    <label>
                                                                        <input type="checkbox"
                                                                            class="form-control form-control-sm form-control-solid"
                                                                            formControlName="vd_kanban_supplier" name="select" />
                                                                        <span></span>
                                                                    </label>
                                                                </span>
                                                            
                                                        </div>
                                                    </div>
                                                </form>
                                            </ng-template>
                                        </ngb-tab>
                    
                                        <ngb-tab>
                                            <ng-template ngbTabTitle>
                                                Données Taxe ADR
                                                <div style="width: 10px;"></div>
                                                <a *ngIf="hasFormErrorsO1"
                                                    class="btn btn-sm btn-icon btn-light-danger pulse pulse-danger mr-5">
                                                    <i class="flaticon2-information"></i>
                                                    <span class="pulse-ring"></span>
                                                </a>
                                            </ng-template>
                                            <ng-template ngbTabContent>
                                                <form [formGroup]="addressForm" class="form">
                    
                                                    <kt-alert *ngIf="hasFormErrorsO1" type="warn" [showCloseButton]="true" [duration]="10000"
                                                        (close)="onAlertCloseO1($event)">
                                                        Modifiez quelques éléments et réessayez de soumettre.
                                                    </kt-alert>
                    
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group">A taxer:</label>
                                                            
                                                                <span class="switch switch-icon">
                                                                    <label>
                                                                        <input type="checkbox"
                                                                            class="form-control form-control-sm form-control-solid"
                                                                            name="select" formControlName="ad_taxable" />
                                                                        <span></span>
                                                                    </label>
                                                                </span>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Zone taxe:</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                id="exampleSelects2" formControlName="ad_tax_zone">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of ad_tax_zone" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                    
                                                            </select>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Taux tax:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    aria-describedby="basic-addon2" formControlName="ad_taxc">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)=opentaxO1(contenttaxO1)>
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Emploi tax:</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                id="exampleSelects2" formControlName="ad_tax_usage">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of ad_tax_usage" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                    
                                                            </select>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Tax comprise:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        name="select" formControlName="ad_tax_in" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        
                                                        <div class="form-group col-3">
                                                            <label class="form-group ">Marticule Fiscale:</label>
                                                            
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="ad_misc2_id">
                                                        </div>
                                                        <div class="form-group col-3">
                                                            <label class="form-group ">RC N:</label>
                                                            
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="ad_gst_id">
                                                        </div>
                                                        <div class="form-group col-3">
                                                            <label class="form-group ">AI N:</label>
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="ad_pst_id">
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-3">
                                                            <label class="form-group ">NIS N:</label>
                                                            
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="ad_misc1_id">
                                                            
                                                        </div>
                                                        
                                                        
                    
                                                    </div>
                                                </form>
                                            </ng-template>
                                        </ngb-tab>
                    
                                        <ngb-tab>
                                            <ng-template ngbTabTitle>
                                                Données paiement Fournisseur
                                                <div style="width: 10px;"></div>
                                                <a *ngIf="hasFormErrorsO1"
                                                    class="btn btn-sm btn-icon btn-light-danger pulse pulse-danger mr-5">
                                                    <i class="flaticon2-information"></i>
                                                    <span class="pulse-ring"></span>
                                                </a>
                                            </ng-template>
                                            <ng-template ngbTabContent>
                                                <form [formGroup]="providerFormO1" class="form">
                    
                                                    <kt-alert *ngIf="hasProviderFormErrorsO1" type="warn" [showCloseButton]="true" [duration]="10000"
                                                        (close)="onAlertCloseO1($event)">
                                                        Modifiez quelques éléments et réessayez de soumettre.
                                                    </kt-alert>
                    
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Conditions:</label>
                                                            
                                                                <div class="input-group input-group-sm">
                    
                                                                    <input type="text" class="form-control form-control-solid"
                                                                        aria-describedby="basic-addon2" formControlName="vd_cr_terms">
                                                                    <div class="input-group-append">
                                                                        <span class="input-group-text" (click)="open4O1(content4O1,'vd_cr_terms')">
                                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                    </div>
                                                                </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">% remise:</label>
                                                            <input type="number" class="form-control form-control-sm form-control-solid"
                                                                formControlName="vd_disc_pct">
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Solde acompte:</label>
                                                                <input type="number" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="vd_prepay">
                                                        </div>
                                                        
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Numero dibiteur:</label>
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="vd_debtor">
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group">OK partiel:</label>
                                                                <span class="switch switch-icon">
                                                                    <label>
                                                                        <input type="checkbox"
                                                                            class="form-control form-control-sm form-control-solid"
                                                                            name="select" formControlName="vd_partial" />
                                                                        <span></span>
                                                                    </label>
                                                                </span>
                                                        </div>
                                                        
                                                    </div>
                                                    <div class="row">    
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Blocage:</label>
                                                                <span class="switch switch-icon">
                                                                    <label>
                                                                        <input type="checkbox"
                                                                            class="form-control form-control-sm form-control-solid"
                                                                            name="select" formControlName="vd_hold" />
                                                                        <span></span>
                                                                    </label>
                                                                </span>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Specification paiement:</label>
                                                                <span class="switch switch-icon">
                                                                    <label>
                                                                        <input type="checkbox"
                                                                            class="form-control form-control-sm form-control-solid"
                                                                            name="select" formControlName="vd_pay_spec" />
                                                                        <span></span>
                                                                    </label>
                                                                </span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-4">
                                                            <label class="form-group ">N base:</label>
                                                                <input type="text" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="vd_db">
                                                        </div>
                                                    </div>
                    
                                                </form>
                                            </ng-template>
                                        </ngb-tab>
                                    </ngb-tabset>
                                </div>
                            </div>
                    
                            <div>
                                <ng-template #content3O1 let-c="close" let-d="dismiss">
                                    <div class="modal-header">
                                        <h4 class="modal-title">Choissir Compte </h4>
                                        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <angular-slickgrid class="col-12" gridHeight="300" gridId="griduser"
                                                [columnDefinitions]="columnDefinitions3O1" (onAngularGridCreated)="angularGridReady3O1($event)"
                                                (sgOnSelectedRowsChanged)="handleSelectedRowsChanged3O1($event.detail.eventData, $event.detail.args)"
                                                [gridOptions]="gridOptions3O1" [dataset]="dataO1">
                                            </angular-slickgrid>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                        <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                    </div>
                                </ng-template>
                            </div>
                            <div>
                                <ng-template #contenttaxO1 let-c="close" let-d="dismiss">
                                    <div class="modal-header">
                                        <h4 class="modal-title">Choissir </h4>
                                        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <angular-slickgrid class="col-12" gridHeight="300" gridId="griduser"
                                                [columnDefinitions]="columnDefinitionstaxO1" (onAngularGridCreated)="angularGridReadytaxO1($event)"
                                                (sgOnSelectedRowsChanged)="handleSelectedRowsChangedtaxO1($event.detail.eventData, $event.detail.args)"
                                                [gridOptions]="gridOptionstaxO1" [dataset]="datataxO1">
                                            </angular-slickgrid>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                        <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                    </div>
                                </ng-template>
                            </div>
                            <div>
                                <ng-template #content4O1 let-c="close" let-d="dismiss">
                                    <div class="modal-header">
                                        <h4 class="modal-title">Choissir </h4>
                                        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <angular-slickgrid class="col-12" gridHeight="300" gridId="griduser"
                                                [columnDefinitions]="columnDefinitions4O1" (onAngularGridCreated)="angularGridReady4O1($event)"
                                                (sgOnSelectedRowsChanged)="handleSelectedRowsChanged4O1($event.detail.eventData, $event.detail.args)"
                                                [gridOptions]="gridOptions4O1" [dataset]="datacodeO1">
                                            </angular-slickgrid>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                        <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                    </div>
                                </ng-template>
                            </div>
                    
                            <div>
                                <ng-template #contentbankO1 let-c="close" let-d="dismiss">
                                    <div class="modal-header">
                                        <h4 class="modal-title">Choissir la banque</h4>
                                        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <angular-slickgrid class="col-12" gridHeight="300" gridId="gridpro"
                                                [columnDefinitions]="columnDefinitionsbankO1" (onAngularGridCreated)="angularGridReadybankO1($event)"
                                                (sgOnSelectedRowsChanged)="handleSelectedRowsChangedbankO1($event.detail.eventData, $event.detail.args)"
                                                [gridOptions]="gridOptionsbankO1" [dataset]="banksO1">
                                            </angular-slickgrid>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                        <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                    </div>
                                </ng-template>
                            </div>
                            <div>
                                <ng-template #content2O1 let-c="close" let-d="dismiss">
                                    <div class="modal-header">
                                        <h4 class="modal-title">Choissir la Devise</h4>
                                        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <angular-slickgrid class="col-12" gridHeight="300" gridId="gridpro"
                                                [columnDefinitions]="columnDefinitions2O1" (onAngularGridCreated)="angularGridReady2O1($event)"
                                                (sgOnSelectedRowsChanged)="handleSelectedRowsChanged2O1($event.detail.eventData, $event.detail.args)"
                                                [gridOptions]="gridOptions2O1" [dataset]="devisesO1">
                                            </angular-slickgrid>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                        <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                    </div>
                                </ng-template>
                            </div>
                            <div>
                                <ng-template #content1O1 let-c="close" let-d="dismiss">
                                    <div class="modal-header">
                                        <h4 class="modal-title">Choissir la SEQUENCE</h4>
                                        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <angular-slickgrid class="col-12" gridHeight="300" gridId="gridSeq"
                                                [columnDefinitions]="columnDefinitions1O1" (onAngularGridCreated)="angularGridReadyO1($event)"
                                                (sgOnSelectedRowsChanged)="handleSelectedRowsChangedO1($event.detail.eventData, $event.detail.args)"
                                                [gridOptions]="gridOptions1O1" [dataset]="sequencesO1">
                                            </angular-slickgrid>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                        <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                    </div>
                                </ng-template>
                            </div>
                    
                    
                        </kt-portlet-body>
                    </kt-portlet>
                </ng-template>    
                </ngb-tab>
                <ngb-tab>
                    <ng-template ngbTabTitle>
                        Liste des fournisseurs
                        <div style="width: 10px;"></div>
                        
                    </ng-template>
                    <ng-template ngbTabContent>  
                        <kt-portlet>
                            <kt-portlet-header [sticky]="true" [title]="'La liste des Fournisseurs'" [class]="'card-head-lg'">
                                <ng-container ktPortletTools>
                                   
                            </ng-container>
                            </kt-portlet-header>
                            <kt-portlet-body>
                                <div class="example-preview">
                                    <div class="row">
                                        <angular-slickgrid class="col-12"  gridId="gridMesure" [columnDefinitions]="columnDefinitionsO2"
                                        (onAngularGridCreated)="angularGridReadyO2($event)"
                                            [gridOptions]="gridOptionsO2" [dataset]="datasetO2">
                                        </angular-slickgrid>
                                    </div>
                                    
                                </div>
                        
                            </kt-portlet-body>
                        </kt-portlet>
                    </ng-template>    
                </ngb-tab>
                
            </ngb-tabset>
        </ng-template>    
    </ngb-tab>

    <ngb-tab>
        <ng-template ngbTabTitle>
            Consommables
            <div style="width: 10px;"></div>
            
        </ng-template>
        <ng-template ngbTabContent>  
            <ngb-tabset>
                <ngb-tab>
                <ng-template ngbTabTitle>
                    Créer un Article
                    <div style="width: 10px;"></div>
                    <a *ngIf="hasFormErrors5O3"
                        class="btn btn-lg btn-icon btn-light-danger pulse pulse-danger mr-5">
                        <i class="flaticon2-information"></i>
                        <span class="pulse-ring"></span>
                    </a>
                </ng-template>
                <ng-template ngbTabContent>  
                    <kt-portlet>
                        <kt-portlet-header [sticky]="true" [title]="'Ajouter Article'" [class]="'card-head-lg'" [viewLoading$]="loading$">
                            <ng-container ktPortletTools>
                                <button (click)="goBackO3()" type="button" class="btn btn-secondary btn-sm mr-2">annuler</button>
                                <button (click)="resetO3()" type="button" class="btn btn-secondary btn-sm mr-2">Réinitialiser</button>
                                <button (click)="onSubmitO3()" type="button" class="btn btn-success btn-sm mr-2">enregistrer </button>
                    
                    
                            </ng-container>
                        </kt-portlet-header>
                        <kt-portlet-body>
                            <div class="example-preview">
                                <div>
                                
                                    <kt-alert *ngIf="isExist" type="warn" [showCloseButton]="true" [duration]="10000"
                                        (close)="onAlertCloseO3($event)">
                                        Ce Code existe deja
                                    </kt-alert>
                                    <form [formGroup]="formXO3" class="form">   
                                    <div class="row">
                                        <div class="form-group col-2">
                                            <label class="form-group">Code Article:</label>
                    
                                            <input type="text" formControlName="pt_part" (change)="onChangeCodeO3()"
                                                [className]="formXO3.controls['pt_part'].errors && (formXO3.controls['pt_part'].dirty || formXO3.controls['pt_part'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'">
                                            <div *ngIf="formXO3.controls['pt_part'].errors && (formXO3.controls['pt_part'].dirty || formXO3.controls['pt_part'].touched)"
                                                class="invalid-feedback">Ce Champs est obligatoire</div>
                    
                                        </div>
                                        <div class="form-group col-6">
                                            <label class="form-group">Description:</label>
                                            <input type="text" id="pt_desc1" (change)="onchangedescO3()"
                                                [className]="formXO3.controls['pt_desc1'].errors && (formXO3.controls['pt_desc1'].dirty || formXO3.controls['pt_desc1'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'"
                                                formControlName="pt_desc1">
                                            <div *ngIf="formXO3.controls['pt_desc1'].errors && (formXO3.controls['pt_desc1'].dirty || formXO3.controls['pt_desc1'].touched)"
                                                class="invalid-feedback">Ce Champs est obligatoire</div>
                    
                                        </div>
                                        <div class="form-group col-2">
                                            <label class="form-group ">Unite de mesure:</label>
                    
                                            <div class="input-group input-group-sm">
                    
                                                <input type="text" formControlName="pt_um" 
                                                    [className]="formXO3.controls['pt_um'].errors && (formXO3.controls['pt_um'].dirty || formXO3.controls['pt_um'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'"
                                                    (change)="changeUmO3()" aria-describedby="basic-addon2">
                                                <div class="input-group-append">
                                                    <span class="input-group-text" (click)="open3O3(contentO3,'pt_um')">
                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                </div>
                                                <div *ngIf="formXO3.controls['pt_um'].errors && (formXO3.controls['pt_um'].dirty || formXO3.controls['pt_um'].touched)"
                                                    class="invalid-feedback">Ce Champs est obligatoire</div>
                                            </div>
                    
                                        </div>
                                    </div>
                                    <br> <br>
                                    </form>
                                    <ngb-tabset>
                                        <ngb-tab>
                                            <ng-template ngbTabTitle>
                                                Données prix Article
                                                <div style="width: 10px;"></div>
                                                <a *ngIf="hasFormErrors4O3"
                                                    class="btn btn-sm btn-icon btn-light-danger pulse pulse-danger mr-5">
                                                    <i class="flaticon2-information"></i>
                                                    <span class="pulse-ring"></span>
                                                </a>
                                            </ng-template>
                                            <ng-template ngbTabContent>
                                                <form [formGroup]="form4O3" class="form">
                    
                                                    <kt-alert *ngIf="hasFormErrors4O3" type="warn" [showCloseButton]="true" [duration]="10000"
                                                        (close)="onAlertCloseO3($event)">
                                                        Modifiez quelques éléments et réessayez de soumettre.
                                                    </kt-alert>
                    
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Prix Vente:</label>
                                                            <div class="col-lg-8">
                                                                <input type="number" id="pt_price" step="0.01" placeholder="0.00" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="pt_price">
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Prix d'Achat:</label>
                                                            <div class="col-lg-8">
                                                                <input type="number" class="form-control form-control-sm form-control-solid"
                                                                    formControlName="pt_pur_price">
                                                            </div>
                                                        </div>
                                                        
                                                      
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Taxable:</label>
                                                            <div class="col-6">
                                                                <span class="switch switch-icon">
                                                                    <label>
                                                                        <input type="checkbox"
                                                                            class="form-control form-control-sm form-control-solid"
                                                                            formControlName="pt_taxable" name="select" />
                                                                        <span></span>
                                                                    </label>
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Taux taxe:</label>
                    
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    formControlName="pt_taxc" aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)=opentaxO3(contenttaxO3)>
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                    
                                                        </div>
                    
                    
                                                    </div>
                    
                                                
                                                </form>
                    
                                                
                    
                                            </ng-template>
                                        </ngb-tab>
                    
                                        <ngb-tab>
                                           
                                            <ng-template ngbTabTitle>
                                                Données Article , Données Stock Article
                                                <div style="width: 10px;"></div>
                                                <a *ngIf="hasFormErrors1O3"
                                                    class="btn btn-sm btn-icon btn-light-danger pulse pulse-danger mr-5">
                                                    <i class="flaticon2-information"></i>
                                                    <span class="pulse-ring"></span>
                                                </a>
                                            </ng-template>
                                            <ng-template ngbTabContent>
                                                <form [formGroup]="form1O3" class="form">   
                    
                                                    <!--kt-alert *ngIf="hasFormErrors1" type="warn" [showCloseButton]="true" [duration]="10000"
                                                        (close)="onAlertClose($event)">
                                                        Modifiez quelques éléments et réessayez de soumettre.
                                                    </kt-alert-->
                                                  
                                                    <div class="row">
                                                        <div class="form-group col-6">
                                                            <label class="form-group">Description Interne:</label>
                                                            <input type="text" class="form-control form-control-solid"
                                                            formControlName="pt_desc2" aria-describedby="basic-addon2"
                                                            >
                                                        </div>
                                                        
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Famille :</label>
                    
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text"
                                                                class="form-control form-control-solid"
                                                                    (change)="changePlO3()" formControlName="pt_prod_line"
                                                                    aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)=openplO3(contentplO3)>
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                               \
                    
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Type Article:</label>
                    
                                                            <select
                                                            class="form-control form-control-solid"
                                                                formControlName="pt_part_type" id="exampleSelects1">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_part_type" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                    
                                                            </select>
                                                           
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Classe</label>
                    
                                                            <select
                                                            class="form-control form-control-solid"
                                                            formControlName="pt_draw" id="exampleSelects2">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_draw" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                                                           
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Grpe:</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_group" id="exampleSelects4">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_group" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Qualité:</label>
                    
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_rev" id="exampleSelects3">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_rev" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                    
                                                        </div>
                    
                    
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Forme Géometrique:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    formControlName="pt_dsgn_grp" aria-describedby="basic-addon2"
                                                                    (change)="changeCodeO3('pt_dsgn_grp')">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)="open3O3(contentO3,'pt_dsgn_grp')">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Status:</label>
                    
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text"
                                                                class="form-control form-control-solid"
                                                                (change)="changeCodeO3('pt_status')" formControlName="pt_status"
                                                                    aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)="open3O3(contentO3,'pt_status')">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                               
                                                            </div>
                    
                                                        </div>
                    
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Empl Plan:</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_drwg_loc" id="exampleSelects5">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_drwg_loc" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Taille:</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_drwg_size" id="exampleSelects6">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_drwg_size" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Logo :</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_promo" id="exampleSelects111">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_promo" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Categorie remise volume</label>
                    
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_break_cat">
                                                        </div>
                    
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2"> </div>
                                                    </div>
                                                    <div class="separator separator-solid"></div>
                                                    <div class="row">
                                                        <div class="form-group col-2"></div>
                                                    </div>
                                                    <h3>Données Stock Article </h3>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Classe ABC:</label>
                    
                                                            <select
                                                                [className]="form1O3.controls['pt_abc'].errors && (form1O3.controls['pt_abc'].dirty || form1O3.controls['pt_abc'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'"
                                                                formControlName="pt_abc" id="exampleSelects7">
                                                                <option value=""></option>
                                                                <option value="A">A</option>
                                                                <option value="B">B</option>
                                                                <option value="C">C</option>
                    
                    
                                                            </select>
                                                            <div *ngIf="form1O3.controls['pt_abc'].errors && (form1O3.controls['pt_abc'].dirty || form1O3.controls['pt_abc'].touched)"
                                                                class="invalid-feedback">Ce Champs est obligatoire</div>
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Intervalle moyen:</label>
                    
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="number" class="form-control form-control-solid"
                                                                    formControlName="pt_avg_int" aria-describedby="basic-addon2">
                                                                <!--div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div-->
                                                            </div>
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Controle lot/serie:</label>
                    
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_lot_ser">
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Intervalle Inventaire tournant:</label>
                    
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="number" class="form-control form-control-solid"
                                                                    formControlName="pt_cyc_int" aria-describedby="basic-addon2">
                                                                <!--div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div-->
                                                            </div>
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Allouer lot unique:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_sngl_lot" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Site:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text"
                                                                    [className]="form1O3.controls['pt_site'].errors && (form1O3.controls['pt_site'].dirty || form1O3.controls['pt_site'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'"
                                                                    (change)="changeSiteO3()" formControlName="pt_site"
                                                                    aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text"
                                                                        (click)="opensiteO3(contentsiteO3,'pt_site')">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                                <div *ngIf="form1O3.controls['pt_site'].errors && (form1O3.controls['pt_site'].dirty || form1O3.controls['pt_site'].touched)"
                                                                    class="invalid-feedback">Ce Champs est obligatoire</div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Duree de vie:</label>
                    
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_shelflife">
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Emplacement:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text"
                                                                    [className]="form1O3.controls['pt_loc'].errors && (form1O3.controls['pt_loc'].dirty || form1O3.controls['pt_loc'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'"
                                                                    (change)="changeLocO3()" formControlName="pt_loc"
                                                                    aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)="openlocO3(contentlocO3,'pt_loc')">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                                <div *ngIf="form1O3.controls['pt_loc'].errors && (form1O3.controls['pt_loc'].dirty || form1O3.controls['pt_loc'].touched)"
                                                                    class="invalid-feedback">Ce Champs est obligatoire</div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Type Emplacement:</label>
                    
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_loc_type" id="exampleSelects8">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_loc_type" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                    
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Article critique:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_critical" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                    
                                                    </div>
                    
                    
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Status reception OA:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    formControlName="pt_rctpo_status" aria-describedby="basic-addon2" (change)="changeStatusO3('pt_rctpo_status')">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)="openstatusO3(contentstatusO3,'pt_rctpo_status')">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Actif:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_rctpo_active" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Status reception prod:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    formControlName="pt_rctwo_status" aria-describedby="basic-addon2" (change)="changeStatusO3('pt_rctwo_status')">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)="openstatusO3(contentstatusO3,'pt_rctwo_status')">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Actif:</label>
                    
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_rctwo_active" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                    
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-4">
                                                            <label class="form-group">Article:</label>
                    
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_article">
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Group Lot:</label>
                    
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    formControlName="pt_lot_grp" aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Numero lot unique:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_auto_lot" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                    
                                                    </div>
                    
                                                </form>
                                            </ng-template>
                                        </ngb-tab>
                                        <ngb-tab>
                                            <ng-template ngbTabTitle>
                                                Données exp Article
                                                <div style="width: 10px;"></div>
                                                <a *ngIf="hasFormErrors2O3"
                                                    class="btn btn-sm btn-icon btn-light-danger pulse pulse-danger mr-5">
                                                    <i class="flaticon2-information"></i>
                                                    <span class="pulse-ring"></span>
                                                </a>
                                            </ng-template>
                                            <ng-template ngbTabContent>
                                                <form [formGroup]="form2O3" class="form">
                    
                                                    <kt-alert *ngIf="hasFormErrors2O3" type="warn" [showCloseButton]="true" [duration]="10000"
                                                        (close)="onAlertCloseO3($event)">
                                                        Modifiez quelques éléments et réessayez de soumettre.
                                                    </kt-alert>
                    
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group"> Code Model:</label>
                    
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                    
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Couleur :</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_break_cat">
                    
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Grammage :</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                            >
                                                                <!-- formControlName="pt_ship_wt" -->
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Qualité :</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                            >
                                                            <!-- <select class="form-control form-control-sm form-control-solid" -->
                                                            
                                                                <!-- formControlName="pt_ship_wt_um" id="exampleSelects8" -->
                                                                <!-- <option value=""></option> -->
                                                                <!-- <option *ngFor="let elem of pt_ship_wt_um" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option> -->
                                                            <!-- </select> -->
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Logo :</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_promo" id="exampleSelects111">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_promo" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                                                    </div>
                                                    </div>
                    
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group"> Code Produit Corp:</label>
                    
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                    
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Classe frais:</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_fr_class" id="exampleSelects10">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_fr_class" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                    
                                                        </div>
                    
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Poids expedition</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_ship_wt">
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> UM Poids Exp </label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_ship_wt_um" id="exampleSelects8">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_ship_wt_um" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                    
                                                        </div>
                    
                                                    </div>
                    
                                                    <div class="row">
                    
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Poids net</label>
                    
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_net_wt">
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> UM Poids </label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_net_wt_um" id="exampleSelects9">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_net_wt_um" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Volume:</label>
                    
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_size">
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> UM Volume </label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_size_um" id="exampleSelects11">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_size_um" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </form>
                                            </ng-template>
                                        </ngb-tab>
                                        <!--add new tab-->
                                        <ngb-tab>
                                            <ng-template ngbTabTitle>
                                                Fiche Article d'Unité
                                                <div style="width: 10px;"></div>
                                                <a *ngIf="hasFormErrors5O3"
                                                    class="btn btn-sm btn-icon btn-light-danger pulse pulse-danger mr-5">
                                                    <i class="flaticon2-information"></i>
                                                    <span class="pulse-ring"></span>
                                                </a>
                                            </ng-template>
                                            <ng-template ngbTabContent>
                                                <form [formGroup]="form5O3" class="form">
                                        
                                                    <!--kt-alert *ngIf="hasFormErrors1" type="warn" [showCloseButton]="true" [duration]="10000"
                                                        (close)="onAlertClose($event)">
                                                        Modifiez quelques éléments et réessayez de soumettre.
                                                    </kt-alert-->
                                                   
                                        
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Scan:</label>
                                        
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_iss_pol" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                        
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Longueur:</label>
                                        
                                                            <input type="number" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_length" step="0.01">
                                        
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Height:</label>
                                        
                                                            <input type="number" step="0.01" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_height">
                                        
                                                        </div>
                                                       
                                                       
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">width:</label>
                                        
                                                            <input type="number" step="0.01" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_width">
                                        
                                                        </div>
                                                       
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Origine:</label>
                                        
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_origin">
                                        
                                                        </div>
                                                        
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Unité/Sachet:</label>
                                        
                                                            <input type="number" step="0.01" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_drwg_size">
                                        
                                                        </div>
                                                       
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Modéle:</label>
                                        
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_model">
                                        
                                                        </div>
                                                       
                                        
                                                    </div>
                                                    <div class="row">
                                                        
                                                       
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Micronage:</label>
                                        
                                                            <input type="number" class="form-control form-control-sm form-control-solid"
                                                                formControlName="int01">
                                        
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Laise:</label>
                                        
                                                            <input type="number" class="form-control form-control-sm form-control-solid"
                                                                formControlName="int02">
                                        
                                                        </div>
                                                       
                                                    </div>
                                        
                                                </form>
                                            </ng-template>
                                        </ngb-tab>
                                        
                                        <!--add new tab-->
                                        <ngb-tab>
                                            <ng-template ngbTabTitle>
                                                Données planification Article
                                                <div style="width: 10px;"></div>
                                                <a *ngIf="hasFormErrors3O3"
                                                    class="btn btn-sm btn-icon btn-light-danger pulse pulse-danger mr-5">
                                                    <i class="flaticon2-information"></i>
                                                    <span class="pulse-ring"></span>
                                                </a>
                                            </ng-template>
                                            <ng-template ngbTabContent>
                                                <form [formGroup]="form3O3" class="form">
                    
                                                    <kt-alert *ngIf="hasFormErrorsO3" type="warn" [showCloseButton]="true" [duration]="10000"
                                                        (close)="onAlertCloseO3($event)">
                                                        Modifiez quelques éléments et réessayez de soumettre.
                                                    </kt-alert>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Plan direct:</label>
                    
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_ms" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Achat/Planif</label>
                    
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    (change)="changeSeqO3()" formControlName="pt_buyer"
                                                                    aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)="openseqO3(contentseqO3)">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                    
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Fournisseur:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    (change)="changeProviderO3()" formControlName="pt_vend"
                                                                    aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)="openprovO3(contentprovO3)">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Proposition:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_plan_ord" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Fantome:</label>
                    
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_phantom" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Ordre minimum:</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_ord_min">
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Ordre maximum:</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_ord_max">
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Horizon:</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_timefence">
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Site OA:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    formControlName="pt_po_site" aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text"
                                                                        (click)="opensiteO3(contentsiteO3,'pt_po_site')">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">MPR Requis:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Achat fabrication</label>
                    
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_pm_code" id="exampleSelects13">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_pm_code" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Ordre multiple:</label>
                    
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_ord_mult">
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Lancement:</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_ord_pol">
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Type configuration:</label>
                    
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    formControlName="pt_cfg_type" aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Rend s/ope:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_op_yield" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">QTE comm:</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formConrtolName="pt_ord_qty" value="1">
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">CTRL:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_insp_rqd" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Pourcentage rendement:</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_yield_pct">
                                                        </div>
                    
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">QTE lot:</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid">
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Delai:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="number" class="form-control form-control-solid"
                                                                    formControlName="pt_insp_lead" aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">DI cum:</label>
                    
                                                            <input type="text" class="form-control form-control-sm form-control-solid">
                    
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Temps exe:</label>
                    
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_run">
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Periode:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    formControlName="pt_ord_per" aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Del fa:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="number" class="form-control form-control-solid"
                                                                    formControlName="pt_mfg_lead" aria-describedby="basic-addon2">
                    
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group "> Del ac:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="number" class="form-control form-control-solid"
                                                                    formControlName="pt_pur_lead" aria-describedby="basic-addon2">
                    
                                                            </div>
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Regl:</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_setup">
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Stock securite:</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_sfty_stk">
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Type TAIE:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">del securite:</label>
                                                            <input type="text" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_sfty_time">
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">ATP force:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Traite TAIE AUTO:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                    
                    
                    
                                                    </div>
                                                    <div class="row">
                    
                    
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Point:</label>
                                                            <input type="number" class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_rop">
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group">Famille ATP:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_atp_family" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Code reseau:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    formControlName="pt_network" aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text" (click)="open3O3(contentO3,'pt_network')">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Revision:</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                id="exampleSelects15">
                    
                                                            </select>
                                                        </div>
                    
                                                    </div>
                                                    <div class="row">
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Seq exec 1:</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_run_seq1" id="exampleSelects16">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_run_seq1" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Code gamme:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    formControlName="pt_routing" aria-describedby="basic-addon2">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                    
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">2:</label>
                                                            <select class="form-control form-control-sm form-control-solid"
                                                                formControlName="pt_run_seq2" id="exampleSelects17">
                                                                <option value=""></option>
                                                                <option *ngFor="let elem of pt_run_seq2" [value]="elem.code_value">
                                                                    {{elem.code_value}} {{elem.code_cmmt}}</option>
                                                            </select>
                                                        </div>
                                                        <div class="form-group col-2">
                                                            <label class="form-group ">Code nomen/f:</label>
                                                            <div class="input-group input-group-sm">
                    
                                                                <input type="text" class="form-control form-control-solid"
                                                                    aria-describedby="basic-addon2" formControlName="pt_bom_code">
                                                                <div class="input-group-append">
                                                                    <span class="input-group-text">
                                                                        <i class="text-dark-50 flaticon2-search"></i> </span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!--div class="form-group col-2">
                                                            <label class="form-group">Liste servit:</label>
                                                            <span class="switch switch-icon">
                                                                <label>
                                                                    <input type="checkbox"
                                                                        class="form-control form-control-sm form-control-solid"
                                                                        formControlName="pt_iss_pol" name="select" />
                                                                    <span></span>
                                                                </label>
                                                            </span>
                                                        </div-->
                    
                    
                                                    </div>
                                                </form>
                                            </ng-template>
                                        </ngb-tab>
                                        
                    
                                       
                                    </ngb-tabset>
                                </div>
                            </div>
                    
                        </kt-portlet-body>
                        <div>
                            <ng-template #contentO3 let-c="close" let-d="dismiss">
                                <div class="modal-header">
                                    <h4 class="modal-title">Choissir </h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <angular-slickgrid class="col-12" gridHeight="300" gridId="griduser"
                                            [columnDefinitions]="columnDefinitions3O3" (onAngularGridCreated)="angularGridReady3O3($event)"
                                            (sgOnSelectedRowsChanged)="handleSelectedRowsChanged3O3($event.detail.eventData, $event.detail.args)"
                                            [gridOptions]="gridOptions3O3" [dataset]="dataO3">
                                        </angular-slickgrid>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                </div>
                            </ng-template>
                        </div>
                        <div>
                            <ng-template #contentsiteO3 let-c="close" let-d="dismiss">
                                <div class="modal-header">
                                    <h4 class="modal-title">Choissir Site </h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <angular-slickgrid class="col-12" gridHeight="300" gridId="griduser"
                                            [columnDefinitions]="columnDefinitionssiteO3"
                                            (onAngularGridCreated)="angularGridReadysiteO3($event)"
                                            (sgOnSelectedRowsChanged)="handleSelectedRowsChangedsiteO3($event.detail.eventData, $event.detail.args)"
                                            [gridOptions]="gridOptionssiteO3" [dataset]="datasiteO3">
                                        </angular-slickgrid>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                </div>
                            </ng-template>
                        </div>
                    
                        <div>
                            <ng-template #contentlocO3 let-c="close" let-d="dismiss">
                                <div class="modal-header">
                                    <h4 class="modal-title">Choissir Emplacement </h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <angular-slickgrid class="col-12" gridHeight="300" gridId="griduser"
                                            [columnDefinitions]="columnDefinitionslocO3" (onAngularGridCreated)="angularGridReadylocO3($event)"
                                            (sgOnSelectedRowsChanged)="handleSelectedRowsChangedlocO3($event.detail.eventData, $event.detail.args)"
                                            [gridOptions]="gridOptionslocO3" [dataset]="datalocO3">
                                        </angular-slickgrid>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                </div>
                            </ng-template>
                        </div>
                    
                        <div>
                            <ng-template #contentplO3 let-c="close" let-d="dismiss">
                                <div class="modal-header">
                                    <h4 class="modal-title">Choissir la ligne de Produit</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <angular-slickgrid class="col-12" gridHeight="300" gridId="griditem"
                                            [columnDefinitions]="columnDefinitionsplO3" (onAngularGridCreated)="angularGridReadyplO3($event)"
                                            (sgOnSelectedRowsChanged)="handleSelectedRowsChangedplO3($event.detail.eventData, $event.detail.args)"
                                            [gridOptions]="gridOptionsplO3" [dataset]="dataplO3">
                                        </angular-slickgrid>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                </div>
                            </ng-template>
                    
                        </div>
                        <div>
                            <ng-template #contentprovO3 let-c="close" let-d="dismiss">
                                <div class="modal-header">
                                    <h4 class="modal-title">Choissir le FOURNISSEUR</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <angular-slickgrid class="col-12" gridHeight="300" gridId="gridpro"
                                            [columnDefinitions]="columnDefinitionsprovO3"
                                            (onAngularGridCreated)="angularGridReadyprovO3($event)"
                                            (sgOnSelectedRowsChanged)="handleSelectedRowsChangedprovO3($event.detail.eventData, $event.detail.args)"
                                            [gridOptions]="gridOptionsprovO3" [dataset]="providersO3">
                                        </angular-slickgrid>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                </div>
                            </ng-template>
                        </div>
                    
                        <div>
                            <ng-template #contentseqO3 let-c="close" let-d="dismiss">
                                <div class="modal-header">
                                    <h4 class="modal-title">Choissir la SEQUENCE</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <angular-slickgrid class="col-12" gridHeight="300" gridId="gridSeq"
                                            [columnDefinitions]="columnDefinitionsseqO3" (onAngularGridCreated)="angularGridReadyseqO3($event)"
                                            (sgOnSelectedRowsChanged)="handleSelectedRowsChangedseqO3($event.detail.eventData, $event.detail.args)"
                                            [gridOptions]="gridOptionsseqO3" [dataset]="sequencesO3">
                                        </angular-slickgrid>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                </div>
                            </ng-template>
                        </div>
                        <div>
                            <ng-template #contentstatusO3 let-c="close" let-d="dismiss">
                                <div class="modal-header">
                                    <h4 class="modal-title">Choissir le Status</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <angular-slickgrid class="col-12" gridHeight="300" gridId="gridpro"
                                            [columnDefinitions]="columnDefinitionsstatusO3"
                                            (onAngularGridCreated)="angularGridReadystatusO3($event)"
                                            (sgOnSelectedRowsChanged)="handleSelectedRowsChangedstatusO3($event.detail.eventData, $event.detail.args)"
                                            [gridOptions]="gridOptionsstatusO3" [dataset]="datastatusO3">
                                        </angular-slickgrid>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                </div>
                            </ng-template>
                        </div>
                        <div>
                            <ng-template #contenttaxO3 let-c="close" let-d="dismiss">
                                <div class="modal-header">
                                    <h4 class="modal-title">Choissir </h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <angular-slickgrid class="col-12" gridHeight="300" gridId="griduser"
                                            [columnDefinitions]="columnDefinitionstaxO3" (onAngularGridCreated)="angularGridReadytaxO3($event)"
                                            (sgOnSelectedRowsChanged)="handleSelectedRowsChangedtaxO3($event.detail.eventData, $event.detail.args)"
                                            [gridOptions]="gridOptionstaxO3" [dataset]="datataxO3">
                                        </angular-slickgrid>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                </div>
                            </ng-template>
                        </div>
                    
                    
                    </kt-portlet>
                </ng-template>    
                </ngb-tab>
                <ngb-tab>
                    <ng-template ngbTabTitle>
                        rechercher un article
                        <div style="width: 10px;"></div>
                        <a *ngIf="hasFormErrors"
                            class="btn btn-lg btn-icon btn-light-danger pulse pulse-danger mr-5">
                            <i class="flaticon2-information"></i>
                            <span class="pulse-ring"></span>
                        </a>
                    </ng-template>
                    <ng-template ngbTabContent>  
                        <kt-portlet>
                            <kt-portlet-header [sticky]="true" [title]="'La liste des Produits'" [class]="'card-head-lg'">
                                <ng-container ktPortletTools>

                            </ng-container>
                            </kt-portlet-header>
                            <kt-portlet-body>
                                <div class="example-preview">
                                    <div class="row">
                                        <angular-slickgrid class="col-12"  gridId="gridMesure" [columnDefinitions]="columnDefinitionsO4"
                                        (onAngularGridCreated)="gridReadyO4($event)"
                                            [gridOptions]="gridOptionsO4" [dataset]="datasetO4">
                                        </angular-slickgrid>
                                    </div>
                                    
                                </div>
                        
                            </kt-portlet-body>
                        </kt-portlet>
                    </ng-template>    
                </ngb-tab>
                
                
            </ngb-tabset>
        </ng-template>    
    </ngb-tab>

    <ngb-tab>
        <ng-template ngbTabTitle>
            Stocks
            <div style="width: 10px;"></div>
            <a *ngIf="hasFormErrors8O5"
                class="btn btn-lg btn-icon btn-light-danger pulse pulse-danger mr-5">
                <i class="flaticon2-information"></i>
                <span class="pulse-ring"></span>
            </a>
        </ng-template>
        <ng-template ngbTabContent>  
            <ngb-tabset>
                <ngb-tab>
                <ng-template ngbTabTitle>
                    Liste Inventaire
                    <div style="width: 10px;"></div>
                    <a *ngIf="hasFormErrors8O5"
                        class="btn btn-lg btn-icon btn-light-danger pulse pulse-danger mr-5">
                        <i class="flaticon2-information"></i>
                        <span class="pulse-ring"></span>
                    </a>
                </ng-template>
                <ng-template ngbTabContent>  
                    <kt-portlet>
                        <kt-portlet-header [sticky]="true" [title]="'Consultations des Stocks'" [class]="'card-head-lg'">
                            <ng-container ktPortletTools>
                                
                                    <button type="button"  (click)="resetO5()"class="btn btn-secondary btn-sm ml-2">Raffraichir </button>
                                    <button type="button"  (click)="printpdfO5()"class="btn btn-secondary btn-sm ml-2">Imprimer état </button>
                                    
                            </ng-container>
                        </kt-portlet-header>
                        <kt-portlet-body>
                            <div class="example-preview">
                                <div class="row">
                                    <angular-slickgrid class="col-12"  gridId="gridMesure" [columnDefinitions]="columnDefinitionsO5"
                                    (onAngularGridCreated)="angularGridReadyO5($event)"
                                        [gridOptions]="gridOptionsO5" [dataset]="datasetO5">
                                    </angular-slickgrid>
                                </div>
                                
                            </div>
                    
                        </kt-portlet-body>
                    </kt-portlet>
                    
                    
                </ng-template>    
                </ngb-tab>
                <ngb-tab>
                    <ng-template ngbTabTitle>
                        Affecter un article
                        <div style="width: 10px;"></div>
                        
                    </ng-template>
                    <ng-template ngbTabContent>  
                        <kt-portlet>
                            <kt-portlet-header [sticky]="true" [title]="'Transfert Des Articles'" [class]="'card-head-lg'">
                                <ng-container ktPortletTools>
                                    <button type="button" (click)="goBackO6()" class="btn btn-secondary btn-sm mr-2">annuler</button>
                                    <button type="button" (click)="resetO6()" class="btn btn-secondary btn-sm mr-2">Réinitialiser</button>
                                    <button type="button" (click)="onSubmitO6()" [disabled]="globalState" class="btn btn-success btn-sm mr-2">enregistrer </button>
                        
                                </ng-container>
                            </kt-portlet-header> 
                            <kt-portlet-body>
                                <div class="example-preview">
                        
                                    <form class="form row" [formGroup]="trFormO6">
                                        <kt-alert *ngIf="hasFormErrorsO6" type="warn" [showCloseButton]="true" [duration]="10000"
                                            (close)="onAlertClose($event)">
                                            {{message}}
                                        </kt-alert>
                                        <div class="col-9">
                        
                                            <div class="row">
                                                <div class="form-group col-3">
                                                    <label class="form-group">N° Document: </label>
                                                
                                                    <div class="input-group input-group-sm">
                        
                                                        <input type="text" class="form-control form-control-solid" formControlName="tr_lot" id="tr_lot"  (change)="onChangeCCO6()"
                                                            aria-describedby="basic-addon2">
                                                        <div class="input-group-append">
                                                            <span class="input-group-text" (click)="open5O6(content5O6)">
                                                                <i class="text-dark-50 flaticon2-search"></i> </span>
                                                        </div>    
                                                       
                                                    </div>
                                                </div>
                                                
                                                <div class="form-group col-3">
                                                    <label class="form-group"> Date Effet: </label>
                                                
                                                    <div class="input-group input-group-sm">
                                                        <input class="form-control form-control-sm form-control-solid" formControlName="tr_effdate"
                                                            placeholder="jj-mm-aaaa" name="tr_rcp_date" ngbDatepicker f
                                                            #tr_rcp_date="ngbDatepicker">
                                                        <div class="input-group-append">
                                                            <button class="btn btn-primary" (click)="tr_rcp_date.toggle()" type="button">
                                                                <i class="flaticon-calendar-with-a-clock-time-tools"></i>
                                                            </button>
                                                        </div>
                                                        
                                                    </div>
                        
                                                
                                                </div>
                                                <div class="form-group col-3">
                                                    <label class="form-group">Imprimer:</label>
                                                    <div class="input-group input-group-sm">
                        
                                                        <span class="switch switch-icon">
                                                            <label>
                                                                <input type="checkbox" class="form-control form-control-sm form-control-solid" formControlName="print"/>
                                                                <span></span>
                                                            </label>
                                                        </span>
                                                    </div>
                        
                                                </div>
                        
                                            </div>
                        
                                    
                                            <div class="row">
                                                <div class="form-group col-3">
                                                    <label class="form-group">Site :</label>
                                                    <div class="input-group input-group-sm">
                        
                                                        <input type="text" class="form-control form-control-solid" (change)="changeSiteO6()" formControlName="tr_site"
                                                            aria-describedby="basic-addon2">
                                                        <div class="input-group-append">
                                                            <span class="input-group-text" (click)="opensiteO6(contentsiteO6,'tr_site')">
                                                                <i class="text-dark-50 flaticon2-search"></i> </span>
                                                        </div>
                                                    </div>
                        
                                                </div>
                        
                                                <div class="form-group col-3">
                                                    <label class="form-group">Empl: </label>
                                                    <div class="input-group input-group-sm">
                        
                                                        <input type="text" class="form-control form-control-solid" id="tr_loc" (change)="onChangeLocO6()" formControlName="tr_loc"
                                                            aria-describedby="basic-addon2">
                                                        <div class="input-group-append">
                                                            <span class="input-group-text" (click)="openlocO6(contentlocO6,'tr_loc')">
                                                                <i class="text-dark-50 flaticon2-search"></i> </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                        
                                                <div class="form-group col-3">
                                                    <label class="form-group">Site A :</label>
                                                    <div class="input-group input-group-sm">
                        
                                                        <input type="text" class="form-control form-control-solid" (change)="changeSiteRefO6()" formControlName="tr_ref_site"
                                                            aria-describedby="basic-addon2">
                                                        <div class="input-group-append">
                                                            <span class="input-group-text" (click)="opensiteO6(contentsiteO6,'tr_ref_site')">
                                                                <i class="text-dark-50 flaticon2-search"></i> </span>
                                                        </div>
                                                    </div>
                        
                                                </div>
                        
                                                <div class="form-group col-3">
                                                    <label class="form-group">Empl A: </label>
                                                    <div class="input-group input-group-sm">
                        
                                                        <input type="text" class="form-control form-control-solid" (change)="changeLocRefO6()" formControlName="tr_ref_loc"
                                                            aria-describedby="basic-addon2">
                                                        <div class="input-group-append">
                                                            <span class="input-group-text"
                                                            (click)="openlocO6(contentlocO6,'tr_ref_loc')">
                                                                <i class="text-dark-50 flaticon2-search"></i> </span>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                            </div>
                        
                                            <div class="row">
                                                <div class="form-group col-3">
                                                    <label class="form-group">N° Palette :</label>
                                                    <div class="input-group input-group-sm">
                        
                                                        <input type="text" class="cab" id="ref" formControlName="ref" (change)="onChangePalO6()"
                                                            aria-describedby="basic-addon2">
                                                        
                                                    </div>
                        
                                                </div>
                                            </div>
                                    
                        
                                               
                                        </div>
                                        <div class="col-3">
                                            <span class="font-weight-bolder text-dark">Observation</span>
                                            <div  class="row example-preview">
                                                <div class="row">
                                                    <div class="form-group col-12">
                                                        
                                                        <textarea class="form-control form-control-sm form-control-solid" formControlName="tr_rmks"
                                                            rows="6"></textarea>
                                                    </div>
                                                </div>    
                        
                                            </div>
                                        </div>
                        
                        <div class="col-12">
                            <div class="form-group col-12 row">
                                <label class="col-2 col-form-label text-right"> Détails: </label>
                            </div>
                        
                        
                            <div class="row col-lg-12">
                                <button class="btn btn-primary btn-elevate col-lg-2" (click)="addNewItemO6()">Ajouter </button>
                            </div>
                            <br>
                        
                            <div class="row">
                                <angular-slickgrid class="col-12" gridHeight="300" gridId="plageGrid" [columnDefinitions]="columnDefinitionsO6"
                                [gridOptions]="gridOptionsO6" [dataset]="datasetO6" (onAngularGridCreated)="GridReadyO6($event)">
                                </angular-slickgrid>
                            </div>
                        
                        
                            
                        
                        </div>
                                    
                                    </form>
                                </div>    
                                
                        
                            
                                <div>
                                    <ng-template #content4O6 let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir l'article</h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="griditem"
                                                    [columnDefinitions]="columnDefinitions4O6" (onAngularGridCreated)="angularGridReady4O6($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChanged4O6($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptions4O6" [dataset]="itemsO6">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                    <button hidden id="openItemsGridO6" class="btn btn-primary" (click)="open4O6(content4O6)">Launch demo
                                        modal</button>
                        
                                </div>
                                <div>
                                    <ng-template #contentsiteO6 let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir Site </h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="griduser"
                                                    [columnDefinitions]="columnDefinitionssiteO6"
                                                    (onAngularGridCreated)="angularGridReadysiteO6($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChangedsiteO6($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptionssiteO6" [dataset]="datasiteO6">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                </div>
                        
                                <div>
                                    <ng-template #contentlocO6 let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir Emplacement </h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="griduser"
                                                    [columnDefinitions]="columnDefinitionslocO6" (onAngularGridCreated)="angularGridReadylocO6($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChangedlocO6($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptionslocO6" [dataset]="datalocO6">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                </div>
                        
                                <div>
                                    <ng-template #contentlocdetO6 let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir Lot </h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="gridloc"
                                                    [columnDefinitions]="columnDefinitionslocdetO6"
                                                    (onAngularGridCreated)="angularGridReadylocdetO6($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChangedlocdetO6($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptionslocdetO6" [dataset]="datalocdetO6">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                    <button hidden id="openLocdetsGridO6" class="btn btn-primary" (click)="openlocdetO6(contentlocdetO6)">Launch demo
                                        modal</button>
                                </div>
                                <div>
                                    <ng-template #contentumO6 let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir UM</h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="gridum"
                                                    [columnDefinitions]="columnDefinitionsumO6" (onAngularGridCreated)="angularGridReadyumO6($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChangedumO6($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptionsumO6" [dataset]="umsO6">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                    <button hidden id="openUmsGridO6" class="btn btn-primary" (click)="openumO6(contentumO6)">Launch demo
                                        modal</button>
                        
                                </div>
                                <div>
                                    <ng-template #contentstatusO6 let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir Status</h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="gridum"
                                                    [columnDefinitions]="columnDefinitionsstatusO6" (onAngularGridCreated)="angularGridReadystatusO6($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChangedstatusO6($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptionsstatusO6" [dataset]="statussO6">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                    <button hidden id="openStatussGridO6" class="btn btn-primary" (click)="openstatusO6(contentstatusO6)">Launch demo
                                        modal</button>
                        
                                </div>
                                <div>
                                    <ng-template #content2O6 let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir Code Adresse</h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="gridpro"
                                                    [columnDefinitions]="columnDefinitions2O6" (onAngularGridCreated)="angularGridReady2O6($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChanged2O6($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptions2O6" [dataset]="adressesO6">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                </div>
                                <div>
                                    <div>
                                        <ng-template #content5O6 let-c="close" let-d="dismiss">
                                            <div class="modal-header">
                                                <h4 class="modal-title">Choissir La Demande</h4>
                                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <angular-slickgrid class="col-12" gridHeight="300" gridId="gridda"
                                                        [columnDefinitions]="columnDefinitions5O6" (onAngularGridCreated)="angularGridReady5O6($event)"
                                                        (sgOnSelectedRowsChanged)="handleSelectedRowsChanged5O6($event.detail.eventData, $event.detail.args)"
                                                        [gridOptions]="gridOptions5O6" [dataset]="requisitionsO6">
                                                    </angular-slickgrid>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                                <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                            </div>
                                        </ng-template>
                                        <ng-template #content5O6 let-c="close" let-d="dismiss">
                                            <div class="modal-header">
                                                <h4 class="modal-title">Choissir Le Bon de transfert</h4>
                                                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <div class="row">
                                                    <angular-slickgrid class="col-12" gridHeight="300" gridId="gridda"
                                                        [columnDefinitions]="columnDefinitions5O6" (onAngularGridCreated)="angularGridReady5O6($event)"
                                                        (sgOnSelectedRowsChanged)="handleSelectedRowsChanged5O6($event.detail.eventData, $event.detail.args)"
                                                        [gridOptions]="gridOptions5O6" [dataset]="transactionsO6">
                                                    </angular-slickgrid>
                                                </div>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                                <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                            </div>
                                        </ng-template>
                                          
                            
                                    </div>
                                 
                                      
                        
                                </div>
                                
                            </kt-portlet-body>
                        </kt-portlet>
                        
                    </ng-template>    
                </ngb-tab>
                <ngb-tab>
                    <ng-template ngbTabTitle>
                        Liste des transactions
                        <div style="width: 10px;"></div>
                       
                    </ng-template>
                    <ng-template ngbTabContent>  
                        <kt-portlet>
                            <kt-portlet-header [sticky]="true" [title]="'Consultation des Transactions'" [class]="'card-head-lg'">
                                <ng-container ktPortletTools>
                                    
                        
                            </ng-container>
                            </kt-portlet-header>
                            <kt-portlet-body>
                                <div class="example-preview">
                                    <form class="form" [formGroup]="trFormO7">
                                        <div class="row col-6">
                                        </div>   
                                        <div class="row">
                                            <div class="form-group col-3">
                                               
                                                <div class="input-group input-group-sm">
                                                    <input class="form-control form-control-sm form-control-solid"  formControlName="date" 
                                                         placeholder="jj-mm-aaaa" name="date" ngbDatepicker f
                                                        #date="ngbDatepicker"   >
                                                    <div class="input-group-append">
                                                        <button class="btn btn-primary" (click)="date.toggle()"  type="button">
                                                            <i class="flaticon-calendar-with-a-clock-time-tools"></i>
                                                        </button>
                                                    </div>
                                                    
                                                </div>
                        
                                            </div>
                                            <div class="form-group col-3">
                                               
                                                <div class="input-group input-group-sm">
                                                    <input class="form-control form-control-sm form-control-solid"  formControlName="date1" 
                                                         placeholder="jj-mm-aaaa" name="date1" ngbDatepicker f
                                                        #date1="ngbDatepicker"   >
                                                    <div class="input-group-append">
                                                        <button class="btn btn-primary" (click)="date1.toggle()"  type="button">
                                                            <i class="flaticon-calendar-with-a-clock-time-tools"></i>
                                                        </button>
                                                    </div>
                                                    
                                                </div>
                        
                                            </div>
                                       
                                            <div class="form-group col-4">
                                          
                                                <div class="input-group input-group-sm">
                        
                                                <button type="button"  (click)="trlistO7()" class="btn btn-sm btn-primary btn-elevate col-lg-4">Valider </button>
                                                </div>
                                            </div>  
                                            
                                            
                                             <br/>
                                            
                                            <div class="btn-group" role="group">
                                            
                                            <button class="btn btn-sm btn-outline-secondary" data-test="scroll-bottom-btn" (click)="scrollGridBottom()">
                                            <i class="fa fa-chevron-down"></i>
                                            </button>
                                            <button class="btn btn-sm btn-outline-secondary" data-test="scroll-down-btn" (click)="scrollGridDown()">
                                            <i class="fa fa-arrow-down"></i>
                                            </button>
                                                <button class="btn btn-sm btn-outline-secondary" data-test="scroll-left-btn" (click)="scrollGridLeft()">
                                                <i class="fa fa-arrow-left"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-secondary" data-test="scroll-right-btn" (click)="scrollGridRight()">
                                                <i class="fa fa-arrow-right"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-secondary" data-test="scroll-up-btn" (click)="scrollGridUp()">
                                                    <i class="fa fa-arrow-up"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-secondary" data-test="scroll-top-btn" (click)="scrollGridTop()">
                                                    <i class="fa fa-chevron-up"></i>
                                                </button>
                                                <div class="col-sm-4 col-md-3" style="max-width: 190px;">
                                                    Pagination: <input type="checkbox" (change)="togglePaginationGrid2()" [checked]="WithPagination"
                                                           data-test="toggle-pagination-grid2" />
                                                    
                                                </div>
                                            </div>
                                        </div>
                                        
                                    <div class="row">
                                        <span *ngIf="metrics" style="margin-right: 10px">
                                            <b>Metrics:</b> {{metrics.itemCount}} of    {{metrics.totalItemCount}} items
                                          </span> 
                                          
                                        <angular-slickgrid class="col-12"   gridId="gridMesure" [columnDefinitions]="columnDefinitionsO7"
                                        (onAngularGridCreated)="angularGridReadyO7($event)"
                                            [gridOptions]="gridOptionsO7" [dataset]="datasetO7"
                                            (onRowCountChanged)="refreshMetricsO7($event.detail.eventData, $event.detail.args)">
                                            
                                        </angular-slickgrid>
                                    </div>
                                </form>
                                </div>
                        
                            </kt-portlet-body>
                        </kt-portlet>
                    </ng-template>    
                </ngb-tab>
            </ngb-tabset>
        </ng-template>    
    </ngb-tab>

    <ngb-tab>
        <ng-template ngbTabTitle>
            Commandes
            <div style="width: 10px;"></div>
            <a *ngIf="hasFormErrors"
                class="btn btn-lg btn-icon btn-light-danger pulse pulse-danger mr-5">
                <i class="flaticon2-information"></i>
                <span class="pulse-ring"></span>
            </a>
        </ng-template>
        <ng-template ngbTabContent>  
            <ngb-tabset>
                <ngb-tab>
                    <ng-template ngbTabTitle>
                        réception article
                        <div style="width: 10px;"></div>
                        <a *ngIf="hasFormErrorsO8"
                            class="btn btn-lg btn-icon btn-light-danger pulse pulse-danger mr-5">
                            <i class="flaticon2-information"></i>
                            <span class="pulse-ring"></span>
                        </a>
                    </ng-template>
                    <ng-template ngbTabContent>  
                        <kt-portlet>
                            <kt-portlet-header [sticky]="true" title="Réception Achat" [class]="'card-head-lg'" [viewLoading$]="loading$">
                              <ng-container ktPortletTools>
                                <button type="button" (click)="goBackO8()" class="btn btn-secondary btn-sm mr-2">annuler</button>
                                <button type="button" (click)="resetO8()" class="btn btn-secondary btn-sm mr-2">Réinitialiser</button>
                                <button type="button" (click)="onPrintO8()" class="btn btn-success btn-sm mr-2">Imprimer Bon</button>
                              </ng-container>
                            </kt-portlet-header> 
                            <kt-portlet-body>
                              <div class="example-preview"> 
                                <form class="form" [formGroup]="trFormO8">
                                  <kt-alert *ngIf="hasFormErrorsO8" type="warn" [showCloseButton]="true" [duration]="10000" (close)="onAlertClose($event)">
                                    {{ message }}
                                  </kt-alert>
                                  <div class="row"> 
                                    <div class="form-group col-3">
                                      <label class="form-group">Date de creation:</label>
                                      <div class="input-group input-group-sm">
                                        <input class="form-control form-control-sm form-control-solid" formControlName="tr_effdate" placeholder="jj-mm-aaaa" name="tr_rcp_date" ngbDatepicker f #tr_rcp_date="ngbDatepicker" />
                                        <div class="input-group-append">
                                          <button class="btn btn-primary" (click)="tr_rcp_date.toggle()" type="button">
                                            <i class="flaticon-calendar-with-a-clock-time-tools"></i>
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                          
                                    <div class="form-group col-2">
                                      <label class="form-group">N° DOCUMENT: </label>
                                  
                                      <div class="input-group input-group-sm">
                        
                                          <input type="text" class="form-control form-control-solid" formControlName="tr_lot" id="tr_lot"  (change)="onChangeCCO8()"
                                              aria-describedby="basic-addon2">
                                          <div class="input-group-append">
                                              <span class="input-group-text" (click)="open5O8(content5O8)">
                                                  <i class="text-dark-50 flaticon2-search"></i> </span>
                                          </div>    
                                         
                                      </div>
                                    </div>
                                    <div class="form-group col-2">
                                      <label class="form-group">Adresse :</label>
                                      <div class="input-group input-group-sm">
                                        <input type="text" class="form-control form-control-solid" formControlName="tr_addr" (change)="onChangeVendO8()" aria-describedby="basic-addon2" />
                                        <div class="input-group-append">
                                          <span class="input-group-text" (click)="open2O8(content2O8)"> <i class="text-dark-50 flaticon2-search"></i> </span>
                                        </div>
                                      </div>
                                    </div>
                                    
                                  </div>
                          
                                  <div class="row">
                                    <div class="form-group col-2">
                                      <label class="form-group">Site :</label>
                                      <div class="input-group input-group-sm">
                        
                                          <input type="text" class="form-control form-control-solid" (change)="changeSiteO8()" formControlName="tr_site"
                                              aria-describedby="basic-addon2">
                                          <div class="input-group-append">
                                              <span class="input-group-text" (click)="opensiteO8(contentsiteO8,'tr_site')">
                                                  <i class="text-dark-50 flaticon2-search"></i> </span>
                                          </div>
                                      </div>
                        
                                  </div>
                        
                                  <div class="form-group col-2">
                                      <label class="form-group">Empl: </label>
                                      <div class="input-group input-group-sm">
                        
                                          <input type="text" class="form-control form-control-solid" id="tr_loc"  formControlName="tr_loc"
                                              aria-describedby="basic-addon2">
                                          <div class="input-group-append">
                                              <span class="input-group-text" (click)="openlocO8(contentlocO8,'tr_loc')">
                                                  <i class="text-dark-50 flaticon2-search"></i> </span>
                                          </div>
                                      </div>
                                  </div>
                                    <div class="form-group col-3">
                                      <label class="form-group">Observation:</label>
                                      <textarea class="form-control form-control-sm form-control-solid" formControlName="tr_rmks" rows="2"></textarea>
                                    </div>
                                    <div class="form-group col-2">
                                      <label class="form-group">choix de l'imprimante</label>
                                      <div class="input-group input-group-sm">
                                        <input type="text" class="form-control form-control-solid" formControlName="printer" placeholder="" aria-describedby="basic-addon2" />
                                        <div class="input-group-append">
                                          <span class="input-group-text" (click)="openprinterO8(contentprinterO8)"> <i class="text-dark-50 flaticon2-search"></i> </span>
                                        </div>
                                      </div>
                                    </div>
                                    
                                  </div>
                                  <div class="row">
                                    <button class="btn btn-sm btn-primary btn-elevate col-lg-4" (click)="addNewItemO8()">Ajouter un Article</button>
                                  </div>
                                  <div class="row">
                                    <angular-slickgrid class="col-12"  gridId="mGrid" [columnDefinitions]="columnDefinitionsO8" [gridOptions]="gridOptionsO8" [dataset]="datasetO8" (onAngularGridCreated)="gridReadyO8($event)"> </angular-slickgrid>
                                  </div>
                                </form>
                              </div>
                          
                              <div>
                                <ng-template #content4O8 let-c="close" let-d="dismiss">
                                  <div class="modal-header">
                                    <h4 class="modal-title">Choisir l'article</h4>
                                    <button type="button" class="close" aria-label="Close"  (click)="d('Cross click')">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <div class="row">
                                      <angular-slickgrid class="col-12" gridHeight="300" gridId="griditem" [columnDefinitions]="columnDefinitions4O8" (onAngularGridCreated)="angularGridReady4O8($event)" (sgOnSelectedRowsChanged)="handleSelectedRowsChanged4O8($event.detail.eventData, $event.detail.args)" [gridOptions]="gridOptions4O8" [dataset]="itemsO8"> </angular-slickgrid>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                  </div>
                                </ng-template>
                                <button hidden id="openItemsGrid" class="btn btn-primary" (click)="open4O8(content4O8)">Launch demo modal</button>
                              </div>
                              <div>
                                <ng-template #contentsiteO8 let-c="close" let-d="dismiss">
                                  <div class="modal-header">
                                    <h4 class="modal-title">Choisir Site</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <div class="row">
                                      <angular-slickgrid class="col-12" gridHeight="300" gridId="gridsite" [columnDefinitions]="columnDefinitionssiteO8" (onAngularGridCreated)="angularGridReadysiteO8($event)" (sgOnSelectedRowsChanged)="handleSelectedRowsChangedsiteO8($event.detail.eventData, $event.detail.args)" [gridOptions]="gridOptionssiteO8" [dataset]="datasiteO8"> </angular-slickgrid>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                  </div>
                                </ng-template>
                                <button hidden id="openSitesGrid" class="btn btn-primary" (click)="opensiteO8(contentsiteO8,'tr_site')">Launch demo modal</button>
                              </div>
                          
                              <div>
                                <ng-template #contentlocO8 let-c="close" let-d="dismiss">
                                  <div class="modal-header">
                                    <h4 class="modal-title">Choisir Emplacement</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <div class="row">
                                      <angular-slickgrid class="col-12" gridHeight="300" gridId="gridloc" [columnDefinitions]="columnDefinitionslocO8" (onAngularGridCreated)="angularGridReadylocO8($event)" (sgOnSelectedRowsChanged)="handleSelectedRowsChangedlocO8($event.detail.eventData, $event.detail.args)" [gridOptions]="gridOptionslocO8" [dataset]="datalocO8"> </angular-slickgrid>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                  </div>
                                </ng-template>
                                <button hidden id="openLocsGrid" class="btn btn-primary" (click)="openlocO8(contentlocO8,'tr_loc')">Launch demo modal</button>
                              </div>
                              <div>
                                <ng-template #contentumO8 let-c="close" let-d="dismiss">
                                  <div class="modal-header">
                                    <h4 class="modal-title">Choisir UM</h4>
                                    <button type="button" class="close" aria-label="Close"  (click)="d('Cross click')">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <div class="row">
                                      <angular-slickgrid class="col-12" gridHeight="300" gridId="gridum" [columnDefinitions]="columnDefinitionsumO8" (onAngularGridCreated)="angularGridReadyumO8($event)" (sgOnSelectedRowsChanged)="handleSelectedRowsChangedumO8($event.detail.eventData, $event.detail.args)" [gridOptions]="gridOptionsumO8" [dataset]="umsO8"> </angular-slickgrid>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                  </div>
                                </ng-template>
                                <button hidden id="openUmsGridO8" class="btn btn-primary" (click)="openumO8(contentumO8)">Launch demo modal</button>
                              </div>
                              <div>
                                <ng-template #contentstatusO8 let-c="close" let-d="dismiss">
                                  <div class="modal-header">
                                    <h4 class="modal-title">Choisir Status</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <div class="row">
                                      <angular-slickgrid class="col-12" gridHeight="300" gridId="gridum" [columnDefinitions]="columnDefinitionsstatusO8" (onAngularGridCreated)="angularGridReadystatusO8($event)" (sgOnSelectedRowsChanged)="handleSelectedRowsChangedstatusO8($event.detail.eventData, $event.detail.args)" [gridOptions]="gridOptionsstatusO8" [dataset]="statussO8"> </angular-slickgrid>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                  </div>
                                </ng-template>
                                <button hidden id="openStatussGridO8" class="btn btn-primary" (click)="openstatusO8(contentstatusO8)">Launch demo modal</button>
                              </div>
                              <div>
                                <ng-template #content2O8 let-c="close" let-d="dismiss">
                                  <div class="modal-header">
                                    <h4 class="modal-title">Choisir Code Adresse</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <div class="row">
                                      <angular-slickgrid class="col-12" gridHeight="300" gridId="gridpro" [columnDefinitions]="columnDefinitions2O8" (onAngularGridCreated)="angularGridReady2O8($event)" (sgOnSelectedRowsChanged)="handleSelectedRowsChanged2O8($event.detail.eventData, $event.detail.args)" [gridOptions]="gridOptions2O8" [dataset]="adressesO8"> </angular-slickgrid>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                  </div>
                                </ng-template>
                              </div>
                              <div>
                                <ng-template #contentprinterO8 let-c="close" let-d="dismiss">
                                  <div class="modal-header">
                                    <h4 class="modal-title">Choisir imprimante</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <div class="row">
                                      <angular-slickgrid class="col-12" gridHeight="300" gridId="gridprinter" [columnDefinitions]="columnDefinitionsprinterO8" (onAngularGridCreated)="angularGridReadyprinterO8($event)" (sgOnSelectedRowsChanged)="handleSelectedRowsChangedprinterO8($event.detail.eventData, $event.detail.args)" [gridOptions]="gridOptionsprinterO8" [dataset]="dataprinterO8"> </angular-slickgrid>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                  </div>
                                </ng-template>
                              </div>
                          
                              <div>
                                <ng-template #contentsamepartO8 let-c="close" let-d="dismiss">
                                  <div class="modal-header">
                                    <h4 class="modal-title">Choisir Nombre ligne</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <form class="form" [formGroup]="nbrFormO8">
                                      <div class="row">
                                        <div class="form-group col-4">
                                          <label class="form-group">Nombre de Ligne:</label>
                                          <div class="input-group input-group-sm">
                                            <input type="number" class="form-control form-control-solid" formControlName="nbrligne" aria-describedby="basic-addon2" />
                                          </div>
                                        </div>
                                      </div>
                                    </form>    
                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-primary" (click)="addsameItemO8()">Ok</button>
                                  </div>
                                </ng-template>
                                <button hidden id="openNbrLigne" class="btn btn-primary" (click)="opennbrligneO8(contentsamepartO8)">Launch demo modal</button>
                              </div>
                              <div>
                                <ng-template #contentempO8 let-c="close" let-d="dismiss">
                                    <div class="modal-header">
                                        <h4 class="modal-title">Choisir les Employés</h4>
                                        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row">
                                            <angular-slickgrid class="col-12" gridHeight="300" gridId="gridemp"
                                                [columnDefinitions]="columnDefinitionsempO8" (onAngularGridCreated)="angularGridReadyempO8($event)"
                                                (sgOnSelectedRowsChanged)="handleSelectedRowsChangedempO8($event.detail.eventData, $event.detail.args)"
                                               
                                                [gridOptions]="gridOptionsempO8" [dataset]="empsO8">
                                            </angular-slickgrid>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                        <button type="button" class="btn btn-primary" (click)="addempO8()" (click)="c('Close click')">Ok</button>
                                    </div>
                                </ng-template>
                            </div>
                            <div>
                              <ng-template #contentemp2O8 let-c="close" let-d="dismiss">
                                  <div class="modal-header">
                                      <h4 class="modal-title">choisir les Employés</h4>
                                      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                          <span aria-hidden="true">&times;</span>
                                      </button>
                                  </div>
                                  <div class="modal-body">
                                      <div class="row">
                                          <angular-slickgrid class="col-12" gridHeight="300" gridId="gridemp2"
                                              [columnDefinitions]="columnDefinitionsemp2O8" (onAngularGridCreated)="angularGridReadyemp2O8($event)"
                                              (sgOnSelectedRowsChanged)="handleSelectedRowsChangedemp2O8($event.detail.eventData, $event.detail.args)"
                                             
                                              [gridOptions]="gridOptionsemp2O8" [dataset]="emps2O8">
                                          </angular-slickgrid>
                                      </div>
                                  </div>
                                  <div class="modal-footer">
                                      <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                      <button type="button" class="btn btn-primary" (click)="addit2O8()" (click)="c('Close click')">Ok</button>
                                  </div>
                              </ng-template>
                              <ng-template #content5O8 let-c="close" let-d="dismiss">
                                <div class="modal-header">
                                    <h4 class="modal-title">Choisir La Réception</h4>
                                    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <angular-slickgrid class="col-12" gridHeight="300" gridId="gridda"
                                            [columnDefinitions]="columnDefinitions5O8" (onAngularGridCreated)="angularGridReady5O8($event)"
                                            (sgOnSelectedRowsChanged)="handleSelectedRowsChanged5O8($event.detail.eventData, $event.detail.args)"
                                            [gridOptions]="gridOptions5O8" [dataset]="transactionsO8">
                                        </angular-slickgrid>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                    <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                </div>
                            </ng-template>
                            <div>
                              <ng-template #contentsiteO8 let-c="close" let-d="dismiss">
                                  <div class="modal-header">
                                      <h4 class="modal-title">Choisir Site </h4>
                                      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                          <span aria-hidden="true">&times;</span>
                                      </button>
                                  </div>
                                  <div class="modal-body">
                                      <div class="row">
                                          <angular-slickgrid class="col-12" gridHeight="300" gridId="griduser"
                                              [columnDefinitions]="columnDefinitionssiteO8"
                                              (onAngularGridCreated)="angularGridReadysiteO8($event)"
                                              (sgOnSelectedRowsChanged)="handleSelectedRowsChangedsiteO8($event.detail.eventData, $event.detail.args)"
                                              [gridOptions]="gridOptionssiteO8" [dataset]="datasiteO8">
                                          </angular-slickgrid>
                                      </div>
                                  </div>
                                  <div class="modal-footer">
                                      <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                      <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                  </div>
                              </ng-template>
                          </div>
                        
                          <div>
                              <ng-template #contentlocO8 let-c="close" let-d="dismiss">
                                  <div class="modal-header">
                                      <h4 class="modal-title">Choisir Emplacement </h4>
                                      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                          <span aria-hidden="true">&times;</span>
                                      </button>
                                  </div>
                                  <div class="modal-body">
                                      <div class="row">
                                          <angular-slickgrid class="col-12" gridHeight="300" gridId="griduser"
                                              [columnDefinitions]="columnDefinitionslocO8" (onAngularGridCreated)="angularGridReadylocO8($event)"
                                              (sgOnSelectedRowsChanged)="handleSelectedRowsChangedlocO8($event.detail.eventData, $event.detail.args)"
                                              [gridOptions]="gridOptionslocO8" [dataset]="datalocO8">
                                          </angular-slickgrid>
                                      </div>
                                  </div>
                                  <div class="modal-footer">
                                      <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                      <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                  </div>
                              </ng-template>
                          </div>
                          </div>
                            </kt-portlet-body>
                          </kt-portlet>
                          
                    </ng-template>    
                </ngb-tab>
                
            </ngb-tabset>
        </ng-template>    
    </ngb-tab>
    
    <ngb-tab>
        <ng-template ngbTabTitle>
            Caisse
            <div style="width: 10px;"></div>
            <a *ngIf="hasFormErrors12"
                class="btn btn-lg btn-icon btn-light-danger pulse pulse-danger mr-5">
                <i class="flaticon2-information"></i>
                <span class="pulse-ring"></span>
            </a>
        </ng-template>
        <ng-template ngbTabContent>  
            <ngb-tabset>
                <ngb-tab>
                    <ng-template ngbTabTitle>
                        Ajouter une réglement réception
                        <div style="width: 10px;"></div>
                        <a *ngIf="hasFormErrors12"
                            class="btn btn-lg btn-icon btn-light-danger pulse pulse-danger mr-5">
                            <i class="flaticon2-information"></i>
                            <span class="pulse-ring"></span>
                        </a>
                    </ng-template>
                    <ng-template ngbTabContent>  
                        <kt-portlet>
                            <kt-portlet-header [sticky]="true" title="Paiement des Récéptions" [class]="'card-head-lg'"
                                [viewLoading$]="loading$">
                                <ng-container ktPortletTools>
                                    <button type="button" (click)="goBackO9()" class="btn btn-secondary btn-sm mr-2">Retour</button>
                                    <button type="button" (click)="resetO9()" class="btn btn-secondary btn-sm mr-2">Réinitialiser</button>
                                    <button type="button" (click)="onSubmitO9()" class="btn btn-success btn-sm mr-2">enregistrer </button>
                        
                                </ng-container>
                            </kt-portlet-header>
                            <kt-portlet-body>
                                <div class="example-preview">
                        
                                    <form class="form" [formGroup]="asForm">
                                        <kt-alert *ngIf="hasFormErrors" type="warn" [showCloseButton]="true" [duration]="10000"
                                            (close)="onAlertClose($event)">
                                            {{message}}
                                        </kt-alert>
                                        <div class="row">
                                            
                                            <div class="form-group col-2">
                                                <label class="form-group">N° RC :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" class="form-control form-control-solid" formControlName="au_ship"   (change)="onChangeBL()"
                                                        aria-describedby="basic-addon2">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text" (click)="openbl(contentbl)" >
                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                    </div>
                                                </div>
                        
                                            </div>
                                            
                        
                                            <div class="form-group col-2">
                                                <label class="form-group">Fournisseur :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" class="form-control form-control-solid" formControlName="au_vend"   
                                                        aria-describedby="basic-addon2">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text" >
                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                    </div>
                                                </div>
                        
                                            </div>
                                            <div class="form-group col-2">
                                                <label class="form-group">Nom :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" class="form-control form-control-solid" formControlName="name"  
                                                        aria-describedby="basic-addon2">
                                                    
                                                </div>
                        
                                            </div>
                                            <div class="form-group col-2">
                                                <label class="form-group">Devise:</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" class="form-control form-control-solid"  formControlName="au_curr" 
                                                        aria-describedby="basic-addon2">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text" >
                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                    </div>
                                                </div>
                        
                                            </div>
                          
                                            <div class="form-group col-2">
                                                <label class="form-group">Montant BL :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="number" class="form-control form-control-solid" formControlName="amount"  
                                                        aria-describedby="basic-addon2">
                                                    
                                                </div>
                                              
                                            </div>
                                            <div class="form-group col-2">
                                                <label class="form-group">Montant Ouvert :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="number" class="form-control form-control-solid" formControlName="unpaid"  
                                                        aria-describedby="basic-addon2">
                                                    
                                                </div>
                                              
                                            </div>
                          
                                                            
                                            
                                            
                                        </div>
                                        <div class="row">
                                           
                                            
                                            <div class="form-group col-2">
                                                <label class="form-group">Date de Validité:</label>
                                                <div class="input-group input-group-sm">
                                                    <input class="form-control form-control-sm form-control-solid"  formControlName="au_effdate" 
                                                         placeholder="jj-mm-aaaa" name="au_effdate" ngbDatepicker f
                                                        #au_effdate="ngbDatepicker" >
                                                    <div class="input-group-append">
                                                        <button class="btn btn-primary" (click)="au_effdate.toggle()"  type="button">
                                                            <i class="flaticon-calendar-with-a-clock-time-tools"></i>
                                                        </button>
                                                    </div>
                                                    
                                                </div>
                        
                        
                                            </div>
                                        </div>
                                        <div class="row">
                        
                        
                                            <div class="form-group col-2">
                                                <label class="form-group">Banque:</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" class="form-control form-control-solid"  formControlName="au_bank" (change)="OnchangeBank()"
                                                        aria-describedby="basic-addon2">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text" (click)="openbank(contentbank)" >
                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                    </div>
                                                </div>
                        
                                            </div>
                                            
                                            
                                            <div class="form-group col-2">
                                                <label class="form-group ">Méthode de Paiement:</label>
                                                
                                                <select class="form-control form-control-sm form-control-solid"
                                                    formControlName="au_pay_method" id="exampleSelects8">
                                                    
                                                    <option *ngFor="let elem of au_pay_method" [value]="elem.bkd_pay_method">
                                                        {{elem.bkd_pay_method}} </option>
                        
                                                </select>
                                            
                                            </div>
                                            
                                            <div class="form-group col-2">
                                                <label class="form-group">Chéque :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" class="form-control form-control-solid" formControlName="au_check"   (change)="onChangeCheck()"
                                                        aria-describedby="basic-addon2">
                                                    
                                                </div>
                                               
                        
                                            </div>
                                                            
                                            
                                        </div>
                        
                                        <div class="row">    
                                            <div class="form-group col-2">
                                                <label class="form-group">Montant :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="number" class="form-control form-control-solid" formControlName="au_amt"   (change)="onChangeAmt()"
                                                        aria-describedby="basic-addon2">
                                                    
                                                </div>
                        
                                            </div>
                        
                        
                                        </div>
                        
                                      
                                        <div class="row">
                                            <div class="form-group col-8">
                                                <label class="form-group">Observation:</label>
                                                <textarea class="form-control form-control-sm form-control-solid" formControlName="au_po"
                                                    rows="2"></textarea>
                                            </div>
                                        </div>    
                                        
                        
                                        
                                    </form>
                        
                                   
                                </div>
                        
                               
                        
                                <div>
                                    <ng-template #contentbl let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir le RC</h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="gridpro"
                                                    [columnDefinitions]="columnDefinitionsbl" (onAngularGridCreated)="angularGridReadybl($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChangedblO9($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptionsbl" [dataset]="bls">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                </div>
                        
                                <div>
                                    <ng-template #contentbank let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir la banque</h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="gridpro"
                                                    [columnDefinitions]="columnDefinitionsbank" (onAngularGridCreated)="angularGridReadybank($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChangedbank($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptionsbank" [dataset]="banks">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                </div>
                            </kt-portlet-body>
                        </kt-portlet>
                        
                    </ng-template>    
                </ngb-tab>
                <ngb-tab>
                    <ng-template ngbTabTitle>
                        Facture de charge
                        <div style="width: 10px;"></div>
                        <a *ngIf="hasFormErrors13"
                            class="btn btn-lg btn-icon btn-light-danger pulse pulse-danger mr-5">
                            <i class="flaticon2-information"></i>
                            <span class="pulse-ring"></span>
                        </a>
                    </ng-template>
                    <ng-template ngbTabContent>  
                        <kt-portlet>
                            <kt-portlet-header [sticky]="true" title="Paiement des Charges" [class]="'card-head-lg'"
                                [viewLoading$]="loading$">
                                <ng-container ktPortletTools>
                                    <button type="button" (click)="charge()" class="btn btn-secondary btn-sm mr-2">Créer Charge</button>
                                    <button type="button" (click)="goBack010()" class="btn btn-secondary btn-sm mr-2">annuler</button>
                                    <button type="button" (click)="resetO10()" class="btn btn-secondary btn-sm mr-2">Réinitialiser</button>
                                    <button type="button" (click)="onSubmit010()" class="btn btn-success btn-sm mr-2">enregistrer </button>
                        
                                </ng-container>
                            </kt-portlet-header>
                            <kt-portlet-body>
                                <div class="example-preview">
                        
                                    <form class="form" [formGroup]="asFormO10">
                                        <kt-alert *ngIf="hasFormErrors" type="warn" [showCloseButton]="true" [duration]="10000"
                                            (close)="onAlertClose($event)">
                                            {{message}}
                                        </kt-alert>
                                        <div class="row">
                                            
                                            <!--div class="form-group col-2">
                                                <label class="form-group">N° Bon :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" class="form-control form-control-solid" formControlName="au_nbr" id="nbr"  
                                                        aria-describedby="basic-addon2" disabled > 
                                                   
                                                </div>
                        
                                            </div-->
                                            
                                            <div class="form-group col-2">
                                                <label class="form-group">Banque:</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" 
                                                    [className]="asForm.controls['au_bank'].errors && (asForm.controls['au_bank'].dirty || asForm.controls['au_bank'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'"
                                                    formControlName="au_bank" (change)="OnchangeBank()"
                                                        aria-describedby="basic-addon2">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text" (click)="openbank(contentbank)" >
                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                    </div>
                                                    <div *ngIf="asForm.controls['au_bank'].errors && (asForm.controls['au_bank'].dirty || asForm.controls['au_bank'].touched) "
                                                    class="invalid-feedback">Ce Champs est obligatoire</div>
                        
                                                </div>
                        
                                            </div>
                                            <div class="form-group col-2">
                                                <label class="form-group">Fournisseur :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" 
                                                    [className]="asForm.controls['au_vend'].errors && (asForm.controls['au_vend'].dirty || asForm.controls['au_vend'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'"
                                                    
                                                    formControlName="au_vend"   
                                                        aria-describedby="basic-addon2">
                                                   
                                                        <div class="input-group-append">
                                                            <span class="input-group-text" (click)="openVend(contentvend)" >
                                                                <i class="text-dark-50 flaticon2-search"></i> </span>
                                                        </div>
                                                        <div *ngIf="asForm.controls['au_vend'].errors && (asForm.controls['au_vend'].dirty || asForm.controls['au_vend'].touched) "
                                                        class="invalid-feedback">Ce Champs est obligatoire</div>
                                                </div>
                        
                                            </div>
                                            <div class="form-group col-2">
                                                <label class="form-group">Nom :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" class="form-control form-control-solid" formControlName="name"  
                                                        aria-describedby="basic-addon2">
                                                    
                                                </div>
                        
                                            </div>
                                            <div class="form-group col-2">
                                                <label class="form-group">Devise:</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" 
                                                    [className]="asForm.controls['au_curr'].errors && (asForm.controls['au_curr'].dirty || asForm.controls['au_curr'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'"
                                                   
                                                    formControlName="au_curr"  (change)="OnchangeCurr()" id="au_curr" 
                                                        aria-describedby="basic-addon2">
                                                    <div class="input-group-append">
                                                        <span class="input-group-text" >
                                                            <i class="text-dark-50 flaticon2-search"></i> </span>
                                                    </div>
                                                    <div *ngIf="asForm.controls['au_curr'].errors && (asForm.controls['au_curr'].dirty || asForm.controls['au_curr'].touched) "
                                                        class="invalid-feedback">Ce Champs est obligatoire</div>
                                                </div>
                        
                                            </div>
                                            <div class="form-group col-2">
                                                <label class="form-group">Date de Validité:</label>
                                                <div class="input-group input-group-sm">
                                                    <input class="form-control form-control-sm form-control-solid"  formControlName="au_effdate" 
                                                         placeholder="jj-mm-aaaa" name="au_effdate" ngbDatepicker f
                                                        #au_effdate="ngbDatepicker" >
                                                    <div class="input-group-append">
                                                        <button class="btn btn-primary" (click)="au_effdate.toggle()"  type="button">
                                                            <i class="flaticon-calendar-with-a-clock-time-tools"></i>
                                                        </button>
                                                    </div>
                                                    
                                                </div>
                        
                        
                                            </div>
                                        </div>
                                        <div class="row">
                                          
                                            <div class="form-group col-2">
                                                <label class="form-group">N° DOC :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" class="form-control form-control-solid" formControlName="au_so_nbr"  
                                                        aria-describedby="basic-addon2">
                                                    
                                                </div>
                        
                                            </div>
                                                                            
                                              
                                            <div class="form-group col-2">
                                                <label class="form-group ">Méthode de Paiement:</label>
                                                
                                                <select 
                                                [className]="asForm.controls['au_pay_method'].errors && (asForm.controls['au_pay_method'].dirty || asForm.controls['au_pay_method'].touched) ? 'form-control form-control-sm form-control-solid is-invalid' : 'form-control form-control-sm form-control-solid'"
                                                   
                                                    formControlName="au_pay_method" id="exampleSelects8">
                                                    
                                                    <option *ngFor="let elem of au_pay_method" [value]="elem.code_value">
                                                        {{elem.code_value}} {{elem.code_cmmt}} </option>
                        
                                                </select>
                                                <div *ngIf="asForm.controls['au_pay_method'].errors && (asForm.controls['au_pay_method'].dirty || asForm.controls['au_pay_method'].touched) "
                                                class="invalid-feedback">Ce Champs est obligatoire</div>
                                            
                                            </div>
                                            
                                            <div class="form-group col-2">
                                                <label class="form-group">Chéque :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" class="form-control form-control-solid" formControlName="au_check" id="check"  (change)="onChangeCheck()"
                                                        aria-describedby="basic-addon2">
                                                    
                                                </div>
                                               
                        
                                            </div>
                                                            
                                            <div class="form-group col-2">
                                                <label class="form-group">Montant :</label>
                                                <div class="input-group input-group-sm">
                        
                                                    <input type="text" class="form-control form-control-solid" formControlName="au_amt"  id="amt"  disabled
                                                        aria-describedby="basic-addon2">
                                                    
                                                </div>
                        
                                            </div>
                                        </div>
                                       
                                        <div class="row">
                        
                                            <div class="form-group col-6">
                                                <label class="form-group">Observation:</label>
                                                <textarea class="form-control form-control-sm form-control-solid" formControlName="au_po"
                                                    rows="2"></textarea>
                                            </div>
                                        </div>    
                                        
                        
                                        <div class="form-group col-12 row">
                                            <label class="col-2 col-form-label text-right"> Détails: </label>
                                        </div>
                        
                        
                                        <div class="row col-lg-12">
                                            <button class="btn btn-primary btn-elevate col-lg-2" (click)="openCharge(contentcharge)">Ajouter Lignes</button>
                                        </div>
                                        <br>
                                        <div class="row">
                                            <angular-slickgrid class="col-12" gridHeight="300" gridId="plagemvGrid" [columnDefinitions]="mvcolumnDefinitions"
                                            [gridOptions]="mvgridOptions" [dataset]="mvdataset" (onAngularGridCreated)="mvGridReady($event)">
                                        </angular-slickgrid>
                                        </div>
                                        
                                    </form>
                        
                                   
                                </div>
                        
                               
                        
                                <div>
                                    <ng-template #contentbl let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir le BL</h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="gridpro"
                                                    [columnDefinitions]="columnDefinitionsbl" (onAngularGridCreated)="angularGridReadybl($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChangedbl($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptionsbl" [dataset]="bls">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                </div>
                        
                                
                                <div>
                                    <ng-template #contentbank let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir la banque</h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="gridpro"
                                                    [columnDefinitions]="columnDefinitionsbank" (onAngularGridCreated)="angularGridReadybank($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChangedbank($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptionsbank" [dataset]="banks">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                </div>
                                <div>
                                    <ng-template #contentvend let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choissir Fournisseur </h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="gridprovend"
                                                    [columnDefinitions]="columnDefinitionsvend" (onAngularGridCreated)="angularGridReadyvend($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChangedvend($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptionsvend" [dataset]="vends">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="c('Close click')">Ok</button>
                                        </div>
                                    </ng-template>
                                </div>
                                <div>
                                    <ng-template #contentcharge let-c="close" let-d="dismiss">
                                        <div class="modal-header">
                                            <h4 class="modal-title">Choisir Charge </h4>
                                            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                                <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        <div class="modal-body">
                                            <div class="row">
                                                <angular-slickgrid class="col-12" gridHeight="300" gridId="gridjob"
                                                    [columnDefinitions]="columnDefinitionsc"
                                                    (onAngularGridCreated)="angularGridReadyc($event)"
                                                    (sgOnSelectedRowsChanged)="handleSelectedRowsChangedc($event.detail.eventData, $event.detail.args)"
                                                    [gridOptions]="gridOptionsc" [dataset]="datacharge">
                                                </angular-slickgrid>
                                            </div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" (click)="c('Close click')">annuler</button>
                                            <button type="button" class="btn btn-primary" (click)="getTrainingDet()">Ok</button>
                                        </div>
                                    </ng-template>
                                    
                                </div>
                            </kt-portlet-body>
                        </kt-portlet>
                    </ng-template>    
                </ngb-tab>
               
            </ngb-tabset>
        </ng-template>    
    </ngb-tab>
    
</ngb-tabset>



