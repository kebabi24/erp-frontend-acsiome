<kt-portlet>
  <kt-portlet-body [class]="'kt-portlet__body--fit'">
    <div>
      {{ time | async }}
    </div>

    <div class="row mb-2" >
      <form class="form" [formGroup]="dashboardForm">

        <div class="row">
            <div class="form-group col-4">
              <label class="form-group">Date de début</label>
              <div class="input-group input-group-sm">
                  <input class="form-control form-control-sm form-control-solid"  formControlName="start_date" 
                      placeholder="jj-mm-aaaa" name="start_date" ngbDatepicker f
                      #start_date="ngbDatepicker"   >
                  <div class="input-group-append">
                      <button class="btn btn-primary" (click)="start_date.toggle()"  type="button">
                          <i class="flaticon-calendar-with-a-clock-time-tools"></i>
                      </button>
                  </div>
                  
              </div>

            </div>

            <div class="form-group col-4">
              <label class="form-group">Date de fin</label>
              <div class="input-group input-group-sm">
                  <input class="form-control form-control-sm form-control-solid"  formControlName="end_date" 
                      placeholder="jj-mm-aaaa" name="end_date" ngbDatepicker f
                      #end_date="ngbDatepicker"   >
                  <div class="input-group-append">
                      <button class="btn btn-primary" (click)="end_date.toggle()"  type="button">
                          <i class="flaticon-calendar-with-a-clock-time-tools"></i>
                      </button>
                  </div>
                  
              </div>

            </div>

          


            <div class="form-group col-4">
              <label class="form-group">Réactualiser</label>
              <div class="input-group input-group-sm">

              <button type="button"  (click)="updateData()" class="btn btn-sm btn-primary btn-elevate ">Réactualiser</button>
              </div>
          </div>  

        </div>

      </form>
    </div>
    
   <div class="row">

      <div class="col-sm-6 col-xl-2 mb-xl-10">
        <div class="number-card number-card-content1">
          <h1 class="number-card-number">{{visit_rate}}%</h1>
          <div class="number-card-dollars">Taux de visite</div>
          <div class="number-card-divider"></div>
          <div class="number-card-progress-wrapper">
            <div class="tagline number-card-currency"></div>
            <div class="number-card-progress">^9.9%</div>
          </div>
        </div>
      </div>

      <div class="col-sm-6 col-xl-2 mb-xl-10">
        <div class="number-card number-card-content2">
          <h1 class="number-card-number">{{success_rate_visit}}%</h1>
          <div class="number-card-dollars">Taux de succès (visite)</div>
          <div class="number-card-divider"></div>
          <div class="number-card-progress-wrapper">
            <div class="tagline number-card-currency"></div>
            <div class="number-card-progress">^9.9%</div>
          </div>
        </div>
      </div>

      <div class="col-sm-6 col-xl-2 mb-xl-10">
        <div class="number-card number-card-content3">
          <h1 class="number-card-number">{{success_rate_itin}}%</h1>
          <div class="number-card-dollars">Taux de succès (itinéraire) </div>
          <div class="number-card-divider"></div>
          <div class="number-card-progress-wrapper">
            <div class="tagline number-card-currency"></div>
            <div class="number-card-progress">^9.9%</div>
          </div>
        </div>
      </div>

      <div class="col-sm-6 col-xl-2 mb-xl-10">
        <div class="number-card number-card-content1">
          <h1 class="number-card-number"> {{distribution_rate}}%</h1>
          <div class="number-card-dollars">Taux de distribution</div>
          <div class="number-card-divider"></div>
          <div class="number-card-progress-wrapper">
            <div class="tagline number-card-currency"></div>
            <div class="number-card-progress">^9.9%</div>
          </div>
        </div>
      </div>

      <div class="col-sm-6 col-xl-2 mb-xl-10">
        <div class="number-card number-card-content2">
          <h1 class="number-card-number">{{ca_visit}}</h1>
          <div class="number-card-dollars">Ca par visite</div>
          <div class="number-card-divider"></div>
          <div class="number-card-progress-wrapper">
            <div class="tagline number-card-currency"></div>
            <div class="number-card-progress">^9.9%</div>
          </div>
        </div>
      </div>

      <div class="col-sm-6 col-xl-2 mb-xl-10">
        <div class="number-card number-card-content3">
          <h1 class="number-card-number">{{ca_new_clients}}</h1>
          <div class="number-card-dollars">CA par nouveau client</div>
          <div class="number-card-divider"></div>
          <div class="number-card-progress-wrapper">
            <div class="tagline number-card-currency"></div>
            <div class="number-card-progress">^9.9%</div>
          </div>
        </div>
      </div>

   </div>

    <div class="row">
      <div class="col-xl-6">
        <kt-portlet [class]="'kt-portlet--height-fluid'">
          <kt-portlet-header [title]="'Taux de visite'">
            
           
          </kt-portlet-header>
          <kt-portlet-body>
            <div id="chartdiv10" style="width: 100%; height: 350px"></div>
          </kt-portlet-body>
        </kt-portlet>
      </div>

      <div class="col-xl-6">
        <kt-portlet [class]="'kt-portlet--height-fluid'">
          <kt-portlet-header [title]="'Taux de succès  '">
          </kt-portlet-header>
          <kt-portlet-body>
            <div id="chartdivN5" style="width: 100%; height: 350px"></div>
          </kt-portlet-body>
        </kt-portlet>
      </div>


    </div>

    <div class="row">
      
      <div class="col-xl-6">
        <kt-portlet [class]="'kt-portlet--height-fluid'">
          <kt-portlet-header [title]="'Taux de distribution '">
          </kt-portlet-header>
          <kt-portlet-body>
            <div id="chartdivN6" style="width: 100%; height: 350px"></div>
          </kt-portlet-body>
        </kt-portlet>
      </div>

        <div class="col-xl-6">
        <kt-portlet [class]="'kt-portlet--height-fluid'">
          <kt-portlet-header [title]="'Taux d’intégration'">
          </kt-portlet-header>
          <kt-portlet-body>
            <div id="chartdivN7" style="width: 100%; height: 350px"></div>
          </kt-portlet-body>
        </kt-portlet>
      </div>  
    </div> 

   <div class="row">

      

       <div class="col-xl-6">
        <kt-portlet [class]="'kt-portlet--height-fluid'">
          <kt-portlet-header [title]="'CA par itinéraire '">
          </kt-portlet-header>
          <kt-portlet-body>
            <div id="chartdivN9" style="width: 100%; height: 350px"></div>
          </kt-portlet-body>
        </kt-portlet>
      </div> 

      <div class="col-xl-6">
        <kt-portlet [class]="'kt-portlet--height-fluid'">
          <kt-portlet-header [title]="'CA par nouveau client '">
          </kt-portlet-header>
          <kt-portlet-body>
            <div><h5>CA par nouveau client    :  {{ca_new_clients}}</h5></div>
            <div id="chartdivN10" style="width: 100%; height: 350px"></div>
          </kt-portlet-body>
        </kt-portlet>
      </div>


    </div> 
 
   <div class="row">

      

      <div class="col-xl-6">
        <kt-portlet [class]="'kt-portlet--height-fluid'">
          <kt-portlet-header [title]="'CA par cluster '">
          </kt-portlet-header>
          <kt-portlet-body>
            <div id="chartdivN11" style="width: 100%; height: 350px"></div>
          </kt-portlet-body>
        </kt-portlet>
      </div>

      <div class="col-xl-6">
        <kt-portlet [class]="'kt-portlet--height-fluid'">
          <kt-portlet-header [title]="'CA par produit '">
          </kt-portlet-header>
          <kt-portlet-body>
            <div id="chartdivN12" style="width: 100%; height: 350px"></div>
          </kt-portlet-body>
        </kt-portlet>
      </div>

    </div>  

    <div class="row">

      

       <div class="col-xl-6">
        <kt-portlet [class]="'kt-portlet--height-fluid'">
          <kt-portlet-header [title]="'Taux de recouvrement'">
          </kt-portlet-header>
          <kt-portlet-body>
            <div id="chartdivN30" style="width: 100%; height: 350px"></div>
          </kt-portlet-body>
        </kt-portlet>
      </div> 

    </div> 

   
  </kt-portlet-body>
</kt-portlet>
