<body>
  <div
    style="background-color: beige"
    [ngClass]="{ disableDiv: false }"
    class="d-flex flex-column flex-root app-root"
    id="kt_app_root"
  >
    <!--begin::Page-->
    <div class="app-page flex-column flex-column-fluid" id="kt_app_page">
      <div class="app-wrapper flex-column flex-row-fluid" id="kt_app_wrapper">
        <div class="app-main flex-column flex-row-fluid" id="kt_app_main">
          <div class="d-flex flex-column flex-column-fluid">
            <!--begin::Toolbar container-->

            <!--begin::Page title-->

            <!--begin::Nav-->

            <!--end::Page title-->
            <!--begin::Actions-->

            <!--end::Toolbar container-->

            <div id="kt_app_content_container">
              <div
                class="d-flex flex-column flex-xl-row justify-content-center gap-2"
              >
                <button
                  (click)="opBk(content6)"
                  class="btn fw-bold btn-primary"
                  style="background-color: #9e110d; font-size: large"
                  [disabled]="stateCaisse"
                >
                  Ouverture caisse
                </button>
                <!-- <button
                    (click)="checkOpenInventory2(content3)"
                    class="fw-bold btn btn-primary"
                    [disabled]="stateInventory"
                    style="background-color: #9e110d; font-size: large"
                  >
                    Inventaire d'ouverture
                  </button> -->

                <!-- <button
                    (click)="checkCloseInventory(content11)"
                    class="btn fw-bold btn-primary"
                    style="background-color: #9e110d; font-size: large"
                    [disabled]="globalState"
                  >
                    Inventaire de clôture
                  </button> -->

                <button
                  (click)="opBk(content10)"
                  class="btn fw-bold btn-primary"
                  style="background-color: #9e110d; font-size: large"
                  [disabled]="globalState"
                >
                  clôture caisse
                </button>
                <button
                  (click)="mouvementCaisse(content12)"
                  class="btn fw-bold btn-primary"
                  style="background-color: #9e110d; font-size: large"
                  [disabled]="globalState"
                >
                  Demande de service
                </button>
                <!-- <button
                    (click)="mvBank(content16)"
                    class="fw-bold btn btn-primary"
                    [disabled]="value1"
                    style="background-color: #9e110d; font-size: large"
                  >
                    Demande de fonds
                  </button> -->
                <button
                  (click)="pArticle(content20)"
                  class="btn fw-bold btn-primary"
                  style="background-color: #9e110d; font-size: large"
                  [disabled]="globalState"
                >
                  Paiement marchandise
                </button>

                <button
                  (click)="podRec(content9)"
                  class="btn fw-bold btn-primary"
                  style="background-color: #9e110d; font-size: large"
                  [disabled]="globalState"
                >
                  Réception commandes
                </button>
                <button
                  (click)="pEmp(content18)"
                  class="btn fw-bold btn-primary"
                  style="background-color: #9e110d; font-size: large"
                  [disabled]="globalState"
                >
                  Pointage des employés
                </button>
                <!-- <button class="btn btn-sm fw-bold btn-primary">
                        Réception autres
                      </button> -->
                <button
                  (click)="synchro()"
                  class="btn fw-bold btn-primary"
                  style="background-color: #9e110d; font-size: large"
                  [disabled]="globalState"
                >
                  Synchroniser
                </button>
                <button
                  (click)="getHistory(content4)"
                  class="btn fw-bold btn-primary"
                  style="background-color: #9e110d; font-size: large"
                  [disabled]="globalState"
                >
                  Liste des commandes
                </button>
              </div>
              <div class="d-flex flex-column flex-xl-row">
                <div style="margin-top: 10px">
                  <div class="card card-flush card-p-0 bg-transparent border-0">
                    <div>
                      <ul
                        class="nav flex-wrap nav-pills btn-outline nav-pills-custom gap-2 pb-2 pt-2"
                      >
                        <li
                          *ngFor="let category of categories"
                          style="width: 240px; height: 65px"
                        >
                          <button
                            class="nav-link nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary"
                            data-bs-toggle="pill"
                            type="button"
                            (click)="onSelect(category)"
                            style="
                              width: 240px;
                              height: 65px;
                              background-color: #ffb701;
                            "
                            [disabled]="globalState"
                          >
                            <div class="">
                              <img src="{{ category.category_img }}" alt="" />
                            </div>

                            <div class="">
                              <span
                                class="text-gray-900 fw-bold fs-2 d-block"
                                style="margin-left: 5px"
                                >{{ category.category_name }}</span
                              >
                            </div>
                          </button>
                        </li>
                      </ul>

                      <!--end::Tab Content-->
                    </div>
                    <!--end: Card Body-->
                  </div>
                  <!--end::Pos food-->
                </div>
                <div class="col-6" style="margin-top: 15px">
                  <div
                    class="nav flex-wrap nav-pills btn-outline nav-pills-custom gap-2 pb-1 pt-1"
                  >
                    <button
                      class="nav-link nav-link-border-solid flex-row-fluid align-items-center btn btn-outline btn-flex btn-active-color-primary"
                      *ngFor="let productOnlist of selectedProducts"
                      type="button"
                      data-bs-toggle="pill"
                      (click)="initializeProduct(productOnlist)"
                      style="background-color: #ffb701"
                      [disabled]="chooseLoc"
                    >
                      <div class="card-body text-center" type="button">
                        <div class="mb-2">
                          <div class="text-center">
                            <span
                              class="fw-bold text-gray-900 cursor-pointer text-hover-primary fs-3 fs-xl-1"
                              >{{ productOnlist.code_desc }}</span
                            >
                          </div>
                        </div>
                      </div>
                    </button>

                    <!--end::Card-->
                  </div>
                  <!--end::Wrapper-->

                  <!--end::Tap pane-->

                  <div class="" *ngIf="showSize">
                    <div id="">
                      <div
                        class="flex-wrap nav nav-pills btn-outline nav-pills-custom gap-2 pb-1 pt-1"
                      >
                        <button
                          class="col-4 nav-link nav-link-border-solid flex-row-fluid align-items-center btn btn-outline btn-flex btn-active-color-primary"
                          type="button"
                          *ngFor="let size of sizeOfProduct"
                          data-bs-toggle="pill"
                          (click)="prepareProduct(size, content2)"
                          style="background-color: #ffb701"
                        >
                          <div class="card-body text-center" type="button">
                            <div class="mb-2">
                              <div class="text-center">
                                <span
                                  class="fw-bold text-gray-900 cursor-pointer text-hover-primary fs-3 fs-xl-1"
                                  >{{ size.pt_group }}</span
                                >
                              </div>
                            </div>
                          </div>
                        </button>

                        <!--end::Card-->
                      </div>
                      <!--end::Wrapper-->
                    </div>

                    <!--end::Tap pane-->
                  </div>

                  <div class="tab-content" *ngIf="showSauces">
                    <div id="kt_pos_food_content_1">
                      <div
                        class="nav nav-pills btn-outline nav-pills-custom gap-2 pb-1 pt-1"
                      >
                        <button
                          class="col-4 nav-link nav-link-border-solid flex-row-fluid align-items-center btn btn-outline btn-flex btn-active-color-primary"
                          type="button"
                          *ngFor="let sauce of sauces"
                          data-bs-toggle="pill"
                          (click)="setSauce(sauce)"
                          style="background-color: #ffb701"
                        >
                          <div class="card-body text-center" type="button">
                            <div class="mb-2">
                              <div class="text-center">
                                <span
                                  class="fw-bold text-gray-900 cursor-pointer text-hover-primary fs-3 fs-xl-1"
                                  >{{ sauce.pt_desc1 }}</span
                                >
                              </div>
                            </div>
                          </div>
                        </button>

                        <!--end::Card-->
                      </div>
                      <!--end::Wrapper-->
                    </div>

                    <!--end::Tap pane-->
                  </div>
                  <!-- <div class="tab-content" *ngIf="showSupp">
                      <div id="kt_pos_food_content_1">
                        <div
                          class="nav flex-wrap nav-pills btn-outline nav-pills-custom gap-2 pb-1 pt-1"
                        >
                          <button
                            class="nav-link nav-link-border-solid flex-row-fluid align-items-center btn btn-outline btn-flex btn-active-color-primary"
                            *ngFor="let suppliment of suppliments"
                            type="button"
                            data-bs-toggle="pill"
                            (click)="setSupplement(suppliment)"
                            style="background-color: #ffb701"
                          >
                            <div class="card-body text-center" type="button">
                              <div class="mb-2">
                                <div class="text-center">
                                  <span
                                    class="fw-bold text-gray-900 cursor-pointer text-hover-primary fs-3 fs-xl-1"
                                    >{{ suppliment.pt_desc1 }}</span
                                  >
                                </div>
                              </div>
                            </div>
                          </button>
  
                          
                        </div>
                        
                      </div>
  
                      
                    </div> -->
                  <div class="tab-content" *ngIf="showSoda">
                    <div id="kt_pos_food_content_1">
                      <div
                        class="nav nav-pills btn-outline nav-pills-custom gap-2 pb-1 pt-1"
                      >
                        <button
                          class="col-4 nav-link nav-link-border-solid flex-row-fluid align-items-center btn btn-outline btn-flex btn-active-color-primary"
                          type="button"
                          *ngFor="let so of soda"
                          data-bs-toggle="pill"
                          (click)="setListOfBrands(so)"
                          style="background-color: #ffb701"
                        >
                          <div class="card-body text-center" type="button">
                            <div class="mb-2">
                              <div class="text-center">
                                <span
                                  class="fw-bold text-gray-900 cursor-pointer text-hover-primary fs-3 fs-xl-1"
                                  >{{ so.code_desc }}</span
                                >
                              </div>
                            </div>
                          </div>
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="tab-content" *ngIf="showListOfBrands">
                    <div id="kt_pos_food_content_1">
                      <div
                        class="nav flex-wrap nav-pills btn-outline nav-pills-custom gap-2 pb-1 pt-1"
                      >
                        <button
                          class="col-4 nav-link nav-link-border-solid flex-row-fluid align-items-center btn btn-outline btn-flex btn-active-color-primary"
                          type="button"
                          *ngFor="let drinks of elem"
                          data-bs-toggle="pill"
                          (click)="prepareAnotherProduct(drinks)"
                          style="background-color: #ffb701"
                        >
                          <div class="card-body text-center" type="button">
                            <div class="mb-2">
                              <div class="text-center">
                                <span
                                  class="fw-bold text-gray-900 cursor-pointer text-hover-primary fs-3 fs-xl-1"
                                  >{{ drinks.pt_desc1 }}</span
                                >
                              </div>
                            </div>
                          </div>
                        </button>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="tab-content" *ngIf="showSupp">
                        <div id="kt_pos_food_content_1">
                          <div class="d-flex tab-pane fade show active">
                            <button
                              class="card card-flush nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary flex-row-fluid align-items-center"
                              *ngFor="let boisson of boissons"
                              type="button"
                              data-bs-toggle="pill"
                            >
                              <div class="card-body text-center" type="button">
                                <div class="mb-2">
                                  <div class="text-center">
                                    <span
                                      class="fw-bold text-gray-800 cursor-pointer text-hover-primary fs-3 fs-xl-1"
                                      >{{ boisson.pt_desc1 }}</span
                                    >
                                  </div>
                                </div>
                              </div>
                            </button>
                          </div>
                        </div>
                      </div> -->
                  <!-- <button
                      *ngIf="addProductBtn"
                      (click)="customizeProduct(content2)"
                      class="btn btn-primary fs-1 w-100 py-4"
                      style="margin-top: 15px; background-color: #9e110d"
                    >
                      Ajouter au panier
                    </button> -->
                </div>

                <!--end::Content-->
                <!--begin::Sidebar-->
                <div class="flex-column">
                  <div
                    class="flex-row-auto w-xl-475px"
                    style="margin-top: 17px"
                  >
                    <!--begin::Pos order-->
                    <div
                      class="card card-flush"
                      style="background-color: #ffb701"
                    >
                      <div class="flex-row" style="margin-top: 20px">
                        <span
                          class="switch switch-icon"
                          style="margin-left: 45px"
                        >
                          <label
                            class="fw-bold text-gray-900 fs-1"
                            style="margin-right: 25px"
                            >Entreprise:</label
                          >
                          <label>
                            <input
                              type="checkbox"
                              class="form-control form-control-sm form-control-solid"
                              formControlName="usrd_active"
                              name="select"
                            />
                            <span style="margin-right: 50px"></span>
                          </label>
                          <button
                            (click)="addClientModal(content17)"
                            class="btn fw-bold btn-primary"
                            style="background-color: #9e110d; font-size: large"
                            [disabled]="globalState"
                          >
                            Ajouter client
                          </button>
                        </span>
                      </div>
                      <!-- <div class="flex-row" style="margin-top: 20px">
                          <div class="form-floating" style="width: 200px">
                            <input
                              style="width: 200px; background-color: beige"
                              type="email"
                              class="form-control text-gray-900"
                              placeholder="00.0"
                              id="floatingInputValue"
                              #discount
                              id="discount"
                              name="discount"
                              [disabled]="globalState"
                            />
                            <label for="floatingInputValue"
                              >Numéro carte de fidélité
                            </label>
                          </div>
                          <button
                            (click)="onChangeDiscount(discount.value)"
                            class="btn fw-bold btn-primary"
                            style="background-color: #9e110d; font-size: large"
                            [disabled]="globalState"
                          >
                            Vérifier
                          </button>
                        </div> -->
                      <div class="flex card-header">
                        <div class="card-toolbar">
                          <div
                            class="form-floating"
                            style="
                              width: 200px;
                              margin-left: 15px;
                              margin-right: 47px;
                            "
                          >
                            <input
                              style="width: 200px; background-color: beige"
                              type="email"
                              class="form-control text-gray-900"
                              placeholder="00.0"
                              #discount
                              id="discount"
                              name="discount"
                              [disabled]="globalState"
                            />
                            <label for="floatingInputValue"
                              >Numéro carte de fidélité
                            </label>
                          </div>
                          <button
                            (click)="onChangeDiscount(discount.value)"
                            class="btn fw-bold btn-primary"
                            style="
                              background-color: #9e110d;
                              font-size: large;
                              width: 157px;
                            "
                            [disabled]="globalState"
                          >
                            Vérifier
                          </button>
                        </div>

                        <!--end::Toolbar-->
                      </div>

                      <!--begin::Header-->
                      <!-- <div class="form-floating">
                            <input
                              style="
                                margin-top: 10px;
                                background-color: beige;
                                width: 440px;
                                margin-left: 15px;
                              "
                              type="email"
                              class="form-control text-gray-800 fw-bold"
                              placeholder="N° carte"
                            />
                          </div> -->

                      <!-- <div class="form-floating">
                            <input
                              style="
                                margin-top: 10px;
                                background-color: beige;
                                width: 440px;
                                margin-left: 15px;
                              "
                              type="email"
                              class="form-control text-gray-800 fw-bold"
                              placeholder="00.0"
                              id="floatingInputValue"
                            />
                            <label for="floatingInputValue">Numéro carte </label>
                          </div> -->
                      <div class="flex card-header">
                        <div class="card-toolbar">
                          <button
                            id="btn1"
                            class="btn btn-light-primary text-gray-900 fs-4 fw-bold py-4"
                            (click)="locOrderS(content)"
                            style="margin-left: 35px"
                            [disabled]="globalState"
                          >
                            <!--begin::Svg Icon | path: icons/duotune/arrows/arr012.svg-->

                            <!--end::Svg Icon-->Sur place
                          </button>
                          <button
                            id="btn2"
                            class="btn btn-light-primary text-gray-900 fs-4 fw-bold py-4"
                            (click)="locOrderE()"
                            style="margin-left: 5px"
                            [disabled]="globalState"
                          >
                            <!--begin::Svg Icon | path: icons/duotune/arrows/arr012.svg-->

                            <!--end::Svg Icon-->A Emporter</button
                          ><button
                            id="btn3"
                            class="btn btn-light-primary text-gray-900 fs-4 fw-bold py-4"
                            (click)="locOrderL(content19)"
                            style="margin-left: 5px"
                            [disabled]="globalState"
                          >
                            <!--begin::Svg Icon | path: icons/duotune/arrows/arr012.svg-->

                            <!--end::Svg Icon-->Livraison
                          </button>
                          <button
                            style="
                              background-color: beige;
                              width: 240px;
                              margin-top: 5px;
                              margin-left: 85px;
                            "
                            (click)="clearCurrentCart()"
                            class="btn btn-light-primary text-gray-900 fs-4 fw-bold py-4"
                            [disabled]="globalState"
                          >
                            Vider le panier
                          </button>
                          <!-- <button
                              *ngIf="modif"
                              style="
                                background-color: beige;
                                width: 240px;
                                margin-top: 5px;
                                margin-left: 85px;
                              "
                              (click)="clearCurrentCart()"
                              class="btn btn-light-primary text-gray-900 fs-4 fw-bold py-4"
                              [disabled]="globalState"
                            >
                              Annuler la commande
                            </button> -->
                        </div>
                        <div
                          *ngIf="modif"
                          class="d-flex-column align-items-center"
                        >
                          <h2 class="">
                            Numéro commande {{ cart.order_code }}
                          </h2>
                        </div>
                        <!--end::Toolbar-->
                      </div>
                      <!--end::Header-->
                      <!--begin::Body-->
                      <div class="card-body pt-0">
                        <!--begin::Table container-->
                        <div class="table-responsive mb-8">
                          <!--begin::Table-->
                          <table class="table align-middle">
                            <!--begin::Table head-->

                            <!--end::Table head-->
                            <!--begin::Table body-->
                            <tr *ngIf="inShop">
                              <td class="pe-0">
                                <div class="d-flex-column align-items-center">
                                  <h2 class="">
                                    Commande table {{ currentTable }}
                                  </h2>
                                </div>
                              </td>
                            </tr>
                            <tr *ngIf="showStatusOut">
                              <td class="pe-0">
                                <div class="d-flex-column align-items-center">
                                  <h2 class="">Commande à emporter</h2>
                                </div>
                              </td>
                            </tr>
                            <tr *ngIf="showStatusDelivery">
                              <td class="pe-0">
                                <div class="d-flex-column align-items-center">
                                  <h2 class="">
                                    Livraison avec {{ deliveryOption }}
                                  </h2>
                                </div>
                              </td>
                            </tr>
                            <tbody *ngFor="let elem of cartProducts">
                              <tr>
                                <td class="pe-0">
                                  <div class="d-flex-column align-items-center">
                                    <!-- <img
                                          src="{{ elem.pt_article }}"
                                          class="w-50px h-50px rounded-3 me-3"
                                          alt=""
                                        /> -->
                                    <h2 class="">
                                      {{ elem.pt_desc1 }}
                                    </h2>
                                  </div>
                                  <div>
                                    <h3
                                      *ngFor="let item of elem.suppliments"
                                      class=""
                                    >
                                      {{ item.pt_desc1 }},
                                    </h3>
                                  </div>
                                  <!-- <div>
                                      <h3 *ngIf="nothing" class="">
                                        Sans garniture
                                      </h3>
                                    </div> -->
                                  <div>
                                    <h3
                                      *ngFor="let item of elem.ingredients"
                                      class=""
                                    >
                                      Sans {{ item.pt_desc1 }},
                                    </h3>
                                  </div>

                                  <div>
                                    <h3
                                      *ngFor="let item of elem.sauces"
                                      class=""
                                    >
                                      {{ item.pt_desc1 }},
                                    </h3>
                                  </div>
                                </td>
                                <td class="pe-0">
                                  <!--begin::Dialer-->
                                  <div
                                    class="position-relative d-flex align-items-center"
                                  >
                                    <!--begin::Decrease control-->
                                    <button
                                      type="button"
                                      class="btn btn-icon btn-sm btn-light btn-icon-gray-400"
                                      (click)="onDecreaseQty(elem)"
                                    >
                                      <!--begin::Svg Icon | path: icons/duotune/arrows/arr089.svg-->
                                      <span class="svg-icon svg-icon-3x">
                                        <svg
                                          width="24"
                                          height="24"
                                          viewBox="0 0 24 24"
                                          fill="none"
                                          xmlns="http://www.w3.org/2000/svg"
                                        >
                                          <rect
                                            x="6"
                                            y="11"
                                            width="12"
                                            height="2"
                                            rx="1"
                                            fill="currentColor"
                                          />
                                        </svg>
                                      </span>
                                      <!--end::Svg Icon-->
                                    </button>
                                    <!--end::Decrease control-->
                                    <!--begin::Input control-->
                                    <input
                                      type="text"
                                      class="form-control border-0 text-center px-0 fs-3 fw-bold text-gray-800 w-30px"
                                      data-kt-dialer-control="input"
                                      placeholder="Amount"
                                      name="manageBudget"
                                      readonly="readonly"
                                      value="{{ elem.pt_qty }}"
                                      style="background-color: #ffb701"
                                    />
                                    <!--end::Input control-->
                                    <!--begin::Increase control-->
                                    <button
                                      type="button"
                                      class="btn btn-icon btn-sm btn-light btn-icon-gray-400"
                                      (click)="onIncreaseQty(elem)"
                                    >
                                      <!--begin::Svg Icon | path: icons/duotune/arrows/arr087.svg-->
                                      <span class="svg-icon svg-icon-3x">
                                        <svg
                                          width="24"
                                          height="24"
                                          viewBox="0 0 24 24"
                                          fill="none"
                                          xmlns="http://www.w3.org/2000/svg"
                                        >
                                          <rect
                                            opacity="0.5"
                                            x="11"
                                            y="18"
                                            width="12"
                                            height="2"
                                            rx="1"
                                            transform="rotate(-90 11 18)"
                                            fill="currentColor"
                                          />
                                          <rect
                                            x="6"
                                            y="11"
                                            width="12"
                                            height="2"
                                            rx="1"
                                            fill="currentColor"
                                          />
                                        </svg>
                                      </span>
                                      <!--end::Svg Icon-->
                                    </button>
                                    <!--end::Increase control-->
                                  </div>
                                  <!--end::Dialer-->
                                </td>
                                <td class="text-start">
                                  <span
                                    class="fw text-gray-900 fs-1"
                                    data-kt-pos-element="item-total"
                                    >{{ elem.pt_price }} DA</span
                                  >
                                </td>
                              </tr>
                            </tbody>
                            <!--end::Table body-->
                          </table>
                          <!--end::Table-->
                        </div>
                        <!--end::Table container-->
                        <!--begin::Summary-->
                        <div
                          class="d-flex flex-stack rounded-3 p-6 mb-11"
                          *ngIf="showPrice"
                          style="background-color: #9e110d"
                        >
                          <!--begin::Content-->
                          <div class="fs-6 fw-bold text-white">
                            <span class="d-block lh-1 mb-2">Sous totale</span>
                            <span *ngIf="currentOffer" class="d-block mb-2"
                              >Pourcentage de remise</span
                            >
                            <span class="d-block mb-2">Montant remise</span>

                            <span class="d-block fs-2qx lh-1">Net à payer</span>
                          </div>
                          <!--end::Content-->
                          <!--begin::Content-->

                          <div class="fs-6 fw-bold text-white text-end">
                            <span
                              class="d-block lh-1 mb-2"
                              data-kt-pos-element="total"
                              >{{ cartAmount + remisePrice }} DA</span
                            >

                            <span
                              *ngIf="currentOffer"
                              class="d-block mb-2"
                              data-kt-pos-element="discount"
                              >({{ currentOffer.del_pct_disc }} %)
                            </span>
                            <span
                              class="d-block mb-2"
                              data-kt-pos-element="discount"
                              >{{ remisePrice }} DA
                            </span>

                            <span
                              class="d-block fs-2qx lh-1"
                              data-kt-pos-element="grant-total"
                              >{{ cartAmount }} DA</span
                            >
                          </div>
                          <!--end::Content-->
                        </div>
                        <!--end::Summary-->
                        <div>
                          {{ time | async }}
                        </div>
                        <div class="m-0">
                          <!--begin::Title-->
                          <h1 class="fw-bold text-gray-900 mb-5">
                            Moyens de paiement
                          </h1>
                          <!--end::Title-->
                          <!--begin::Radio group-->

                          <!--begin::Radio-->
                          <label
                            class="btn btn-active-text-gray-900 border border-3 border-gray-100 border-active-primary btn-active-light-primary w-100 px-4"
                            data-kt-button="true"
                            style="background-color: beige"
                          >
                            <!--begin::Input-->
                            <input
                              class="btn-check"
                              type="radio"
                              name="method"
                              value="0"
                              style="background-color: beige"
                            />
                            <!--end::Input-->
                            <!--begin::Icon-->
                            <i
                              class="fonticon-cash-payment fs-2hx mb-2 pe-0"
                            ></i>
                            <!--end::Icon-->
                            <!--begin::Title-->
                            <span class="fs-7 fw-bold d-block">Cash</span>
                            <!--end::Title-->
                          </label>
                          <div class="flex-row">
                            <button
                              (click)="prepareCart(content)"
                              class="btn btn-primary fs-1 w-50 py-4"
                              style="background-color: #9e110d; margin-top: 5px"
                              [disabled]="globalState"
                            >
                              Lancer
                            </button>
                            <button
                              class="btn btn-primary fs-1 w-50 py-4"
                              (click)="paiement()"
                              style="margin-top: 5px; background-color: #9e110d"
                              [disabled]="!modif"
                            >
                              Payer
                            </button>
                          </div>

                          <!-- <div class="form-floating">
                                <input
                                  style="margin-top: 10px"
                                  type="email"
                                  class="form-control text-gray-800 fw-bold"
                                  placeholder="00.0"
                                  id="floatingInputValue"
                                  value=""
                                />
                                <label for="floatingInputValue">Montant </label>
                              </div> -->
                          <div class="form-floating">
                            <input
                              style="background-color: beige; margin-top: 10px"
                              type="email"
                              class="form-control text-gray-900 fw-bold"
                              placeholder="00.0"
                              id="floatingInputValue"
                              name="balance{{ value1 }}"
                              name="balance"
                              [disabled]="globalState"
                            />
                            <label for="floatingInputValue"
                              >Montant versé
                            </label>
                          </div>

                          <!-- 
                              <button
                                *ngFor="let b of bk"
                                style="margin-top: 10px; margin-left: 15px"
                                class="btn btn-light-primary fs-4 fw-bold py-4"
                                click="getValue1(b.ticket)"
                                (click)="getValue1(b.ticket)"
                              >
                                {{ b.ticket }}
                              </button> -->

                          <div class="form-floating">
                            <input
                              style="background-color: beige; margin-top: 10px"
                              type="email"
                              class="form-control text-gray-900 fw-bold"
                              placeholder="00.0"
                              id="floatingInputValue"
                              name="balance2{{ value2 }}"
                              name="balance2"
                              [disabled]="globalState"
                            />
                            <label for="floatingInputValue"
                              >Montant rendu
                            </label>
                          </div>
                          <!-- 
                              <button
                                *ngFor="let b of bk"
                                style="margin-top: 10px; margin-left: 15px"
                                class="btn btn-light-primary fs-4 fw-bold py-4"
                                click="getValue2(b.ticket)"
                                (click)="getValue2(b.ticket)"
                              >
                                {{ b.ticket }}
                              </button> -->
                          <!-- <button
                              class="btn btn-primary fs-1 w-100 py-4"
                              (click)="paiement()"
                              style="margin-top: 10px; background-color: #9e110d"
                              [disabled]="globalState"
                            >
                              Payer
                            </button> -->
                          <button
                            (click)="printZstate()"
                            class="btn btn-primary fs-1 w-100 py-4"
                            style="background-color: #9e110d; margin-top: 5px"
                            [disabled]="globalState"
                          >
                            Imprimer etat Z
                          </button>
                          <!--end::Actions-->
                        </div>
                        <!--end::Payment Method-->
                      </div>
                      <!--end: Card Body-->
                    </div>
                    <!--end::Pos order-->
                  </div>
                </div>

                <!--end::Sidebar-->
              </div>

              <!--end::Layout-->
            </div>

            <!--end::Content container-->

            <!--end::Content-->
          </div>
        </div>
        <!--end:::Main-->
      </div>
      <!--end::Wrapper-->
    </div>
    <!--end::Page-->
  </div>
  <div>
    <kt-portlet-body>
      <ng-template #content3 let-c="close" let-d="dismiss">
        <div class="modal-header" style="background-color: #f5f5dc">
          <h4 class="modal-title">Saisir votre inventaire d'ouverture</h4>
        </div>
        <div class="modal-body" style="background-color: #f5f5dc">
          <!-- <button
              style="background-color: #9e110d"
              class="btn btn-primary fs-2 w-100 mt-2 mb-2"
              (click)="addNewItemInventory()"
            >
              Ajouter un Article
            </button> -->

          <div class="row">
            <angular-slickgrid
              class="col-12"
              gridHeight="500"
              gridId="mGrid"
              [columnDefinitions]="columnDefinitions"
              [gridOptions]="gridOptions"
              [dataset]="dataset"
              (onAngularGridCreated)="gridReady2($event)"
              (sgOnSelectedRowsChanged)="
                handleSelectedRowsChanged(
                  $event.detail.eventData,
                  $event.detail.args
                )
              "
            >
            </angular-slickgrid>
          </div>
          <button
            hidden
            id="openItemsGrid2"
            class="btn btn-primary"
            (click)="open4(content15)"
          >
            Launch demo modal
          </button>
        </div>

        <div
          class="card-footer d-flex justify-content-end py-6 px-9"
          style="background-color: #f5f5dc"
        >
          <button
            style="background-color: #9e110d"
            class="btn btn-primary px-12"
            (click)="c('Close click')"
            (click)="openModal(content14)"
          >
            Vérifier votre inventaire
          </button>
        </div>
      </ng-template>
    </kt-portlet-body>
  </div>
  <div>
    <kt-portlet-body>
      <ng-template #content14 let-c="close" let-d="dismiss">
        <div
          class="card-header border-0 cursor-pointer"
          role="button"
          data-bs-toggle="collapse"
          data-bs-target="#kt_account_notifications"
          aria-expanded="true"
          aria-controls="kt_account_notifications"
          style="background-color: #f5f5dc"
        >
          <div
            class="card-title m-0 justify-content-center"
            style="background-color: #f5f5dc"
          >
            <h3 class="fw-bold m-0">Etes vous sur de votre inventaire?</h3>
          </div>
        </div>
        <div
          class="card-footer d-flex justify-content-center py-6 px-9"
          style="background-color: #f5f5dc"
        >
          <button
            class="btn btn-primary px-12"
            style="margin-right: 5px"
            (click)="c('Close click')"
            (click)="checkOpenInventory2(content3)"
          >
            Retour
          </button>
          <button
            class="btn btn-primary px-12"
            (click)="c('Close click')"
            (click)="setOpenInventory2()"
          >
            Confirmer
          </button>
        </div>
      </ng-template>
    </kt-portlet-body>
  </div>
  <div>
    <kt-portlet-body>
      <ng-template #content11 let-c="close" let-d="dismiss">
        <div class="modal-header" style="background-color: #f5f5dc">
          <h4 class="modal-title">Saisir votre inventaire de clôture</h4>
        </div>
        <div class="modal-body" style="background-color: #f5f5dc">
          <div class="row">
            <angular-slickgrid
              class="col-12"
              gridHeight="500"
              gridId="mGrid"
              [columnDefinitions]="columnDefinitions"
              [gridOptions]="gridOptions"
              [dataset]="dataset"
              (onAngularGridCreated)="gridReady($event)"
              (sgOnSelectedRowsChanged)="
                handleSelectedRowsChanged(
                  $event.detail.eventData,
                  $event.detail.args
                )
              "
            >
            </angular-slickgrid>
          </div>
        </div>
        <div
          class="card-footer d-flex justify-content-end py-6 px-9"
          style="background-color: #f5f5dc"
        >
          <button
            class="btn btn-primary px-12"
            (click)="c('Close click')"
            (click)="setCloseInventory()"
          >
            Vérifier votre inventaire
          </button>
        </div>
      </ng-template>
    </kt-portlet-body>
  </div>
  <div>
    <kt-portlet-body>
      <ng-template #content9 let-c="close" let-d="dismiss">
        <div class="modal-body" style="background-color: #f5f5dc">
          <div class="row">
            <angular-slickgrid
              class="col-12"
              gridHeight="500"
              gridId="mGrid"
              [columnDefinitions]="columnDefinitions2"
              [gridOptions]="gridOptions2"
              [dataset]="datasetRec"
              (onAngularGridCreated)="gridReady($event)"
              (sgOnSelectedRowsChanged)="
                handleSelectedRowsChanged(
                  $event.detail.eventData,
                  $event.detail.args
                )
              "
            >
            </angular-slickgrid>
          </div>
        </div>
        <div
          class="card-footer d-flex justify-content-end py-6 px-9"
          style="background-color: #f5f5dc"
        >
          <button
            class="btn btn-primary px-12"
            (click)="c('Close click')"
            (click)="podRecRec()"
          >
            Confirmer reception
          </button>
        </div>
      </ng-template>
    </kt-portlet-body>
  </div>
  <!-- <div>
      <kt-portlet-body>
        <ng-template #content25 let-c="close" let-d="dismiss">
          <div class="modal-body" style="background-color: #f5f5dc">
            <div class="form-group col-12">
              <kt-alert
                type="warn"
                [showCloseButton]="true"
                [duration]="10000"
                (close)="onAlertClose($event)"
              >
                Attention vous avez modifier la commande !
              </kt-alert>
            </div>
            <div class="row">
              <div class="card card-flush card-p-0 bg-transparent border-0">
                <div style="display: flex; justify-content: space-between">
                  <button
                    class="nav-link nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary"
                    data-bs-toggle="pill"
                    type="button"
                    (click)="onSelectDelivery(platforme)"
                    style="width: 500px; height: 100px; background-color: #ffb701"
                  >
                    <div class="">
                      <span class="text-gray-900 fw-bold fs-2 d-block"
                        >Oui, je veux plutôt relancer la commande</span
                      >
                    </div>
                  </button>
                  <button
                    class="nav-link nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary"
                    data-bs-toggle="pill"
                    type="button"
                    (click)="onSelectDelivery(platforme)"
                    style="width: 500px; height: 100px; background-color: #ffb701"
                  >
                    <div class="">
                      <span class="text-gray-900 fw-bold fs-2 d-block"
                        >Procéder au paiement</span
                      >
                    </div>
                  </button>
  
            
                </div>
          
              </div>
            </div>
          </div>
        </ng-template>
      </kt-portlet-body>
    </div> -->
  <div>
    <kt-portlet-body>
      <ng-template #content4 let-c="close" let-d="dismiss">
        <div class="modal-body" style="background-color: #f5f5dc">
          <div class="col-xl-12">
            <!--begin::Table Widget 4-->
            <div
              class="card card-flush h-xl-100"
              style="background-color: #f5f5dc"
            >
              <!--begin::Card header-->
              <div class="card-header pt-7">
                <!--begin::Title-->
                <h3 class="card-title align-items-start flex-column">
                  <h1>Liste des commandes</h1>
                  <span class="text-gray-900 mt-1 fw-semibold fs-6"
                    >Nombre de commandes : {{ ordersHistory.length }}</span
                  >
                </h3>
              </div>
              <!--end::Card header-->
              <!--begin::Card body-->
              <div class="card-body pt-2">
                <!--begin::Table-->
                <table
                  class="table align-middle table-row-dashed fs-6 gy-3"
                  id="kt_table_widget_4_table"
                >
                  <!--begin::Table head-->
                  <thead>
                    <!--begin::Table row-->
                    <tr
                      class="text-start text-gray-900 fw-bold fs-7 text-uppercase gs-0"
                    >
                      <th class="text-gray-900 min-w-100px">Numéro commande</th>
                      <th class="text-start text-gray-900 min-w-150">Client</th>
                      <th class="text-start text-gray-900 min-w-150">
                        Type de consommation
                      </th>
                      <th class="text-start text-gray-900 min-w-50px">Table</th>

                      <th class="text-start text-gray-900 min-w-150px">
                        Total
                      </th>
                      <th class="text-start text-gray-900 min-w-100px">
                        Status
                      </th>
                      <th class="text-start text-gray-900 min-w-100px">
                        Platforme
                      </th>
                      <th class="text-start"></th>
                    </tr>
                    <!--end::Table row-->
                  </thead>
                  <!--end::Table head-->
                  <!--begin::Table body-->
                  <tbody class="fw-bold text-gray-900">
                    <tr *ngFor="let order of ordersHistory">
                      <td
                        [ngStyle]="{
                          backgroundColor:
                            order.order_emp == 'Sur place'
                              ? '#ffaa15'
                              : '#ff903c'
                        }"
                      >
                        <h1>{{ order.order_code }}</h1>
                      </td>
                      <td
                        class=""
                        [ngStyle]="{
                          backgroundColor:
                            order.order_emp == 'Sur place'
                              ? '#ffaa15'
                              : '#ff903c'
                        }"
                      >
                        <h1>{{ order.customer }}</h1>
                      </td>
                      <td
                        class=""
                        [ngStyle]="{
                          backgroundColor:
                            order.order_emp == 'Sur place'
                              ? '#ffaa15'
                              : '#ff903c'
                        }"
                      >
                        <h1 class="text-gray-900 text-hover-primary">
                          {{ order.order_emp }}
                        </h1>
                      </td>
                      <td
                        class=""
                        [ngStyle]="{
                          backgroundColor:
                            order.order_emp == 'Sur place'
                              ? '#ffaa15'
                              : '#ff903c'
                        }"
                      >
                        <h1>{{ order.site_loc }}</h1>
                      </td>

                      <td
                        class=""
                        [ngStyle]="{
                          backgroundColor:
                            order.order_emp == 'Sur place'
                              ? '#ffaa15'
                              : '#ff903c'
                        }"
                      >
                        <h1>{{ order.total_price }} DA</h1>
                      </td>
                      <td
                        class=""
                        [ngStyle]="{
                          backgroundColor:
                            order.order_emp == 'Sur place'
                              ? '#ffaa15'
                              : '#ff903c'
                        }"
                      >
                        <h1>Non payé</h1>
                      </td>
                      <td
                        class=""
                        [ngStyle]="{
                          backgroundColor:
                            order.order_emp == 'Sur place'
                              ? '#ffaa15'
                              : '#ff903c'
                        }"
                      >
                        <h1 class="badge py-3 px-4 fs-7 badge-light-warning">
                          {{ order.plateforme }}
                        </h1>
                      </td>
                      <td
                        class=""
                        [ngStyle]="{
                          backgroundColor:
                            order.order_emp == 'Sur place'
                              ? '#ffaa15'
                              : '#ff903c'
                        }"
                      >
                        <button
                          type="button"
                          class="btn btn-sm btn-icon btn-light btn-active-light-primary toggle h-50px w-50px"
                          data-kt-table-widget-4="expand_row"
                          (click)="getItemFromHistory(order)"
                          (click)="c('Close click')"
                        >
                          <!--begin::Svg Icon | path: icons/duotune/arrows/arr087.svg-->
                          <span class="svg-icon svg-icon-3 m-0 toggle-off">
                            <svg
                              width="48"
                              height="48"
                              viewBox="0 0 24 24"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <rect
                                opacity="0.5"
                                x="11"
                                y="18"
                                width="12"
                                height="2"
                                rx="1"
                                transform="rotate(-90 11 18)"
                                fill="currentColor"
                              />
                              <rect
                                x="6"
                                y="11"
                                width="12"
                                height="2"
                                rx="1"
                                fill="currentColor"
                              />
                            </svg>
                          </span>
                          <!--end::Svg Icon-->
                          <!--begin::Svg Icon | path: icons/duotune/arrows/arr089.svg-->
                          <span class="svg-icon svg-icon-3 m-0 toggle-on">
                            <svg
                              width="48"
                              height="48"
                              viewBox="0 0 24 24"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <rect
                                x="6"
                                y="11"
                                width="12"
                                height="2"
                                rx="1"
                                fill="currentColor"
                              />
                            </svg>
                          </span>
                          <!--end::Svg Icon-->
                        </button>
                      </td>
                    </tr>
                  </tbody>
                  <!--end::Table body-->
                </table>
                <!--end::Table-->
              </div>
              <!--end::Card body-->
            </div>
            <!--end::Table Widget 4-->
          </div>
        </div>
      </ng-template>
    </kt-portlet-body>
  </div>
  <div>
    <kt-portlet-body>
      <ng-template #content let-c="close" let-d="dismiss">
        <div class="modal-body" style="background-color: #f5f5dc">
          <div class="app-container container-xxl">
            <div class="row gy-5 g-xl-10">
              <div
                (click)="chooseTable(table)"
                (click)="c('Close click')"
                *ngFor="let table of AllTables"
                class="col-xl-3 mb-xl-10"
              >
                <!--begin::Card widget 2-->
                <div class="card h-lg-80">
                  <!--begin::Body-->
                  <div
                    class="card-body d-flex justify-content-between align-items-start flex-column"
                  >
                    <div class="d-flex flex-column my-7">
                      <!--begin::Number-->
                      <span class="fw-semibold fs-3x text-gray-800 lh-1 ls-n2"
                        >Table {{ table }}</span
                      >
                      <!--end::Number-->
                      <!--begin::Follower-->
                      <div class="m-0">
                        <span class="fw-semibold fs-6 text-gray-400"
                          >Status</span
                        >
                      </div>
                      <!--end::Follower-->
                    </div>
                  </div>
                  <!--end::Body-->
                </div>
                <!--end::Card widget 2-->
              </div>
            </div>
          </div>
        </div>
      </ng-template>
    </kt-portlet-body>
  </div>
  <div>
    <ng-template #content2 let-c="close" let-d="dismiss">
      <div class="modal-body" style="background-color: beige">
        <!--begin::Card header-->

        <!--begin::Card header-->
        <!--begin::Content-->
        <div id="kt_account_settings_notifications" class="collapse show">
          <!--begin::Form-->
          <form class="form">
            <!--begin::Card body-->
            <div
              class="justify-content-center py-6 px-48"
              style="background-color: beige"
            >
              <!--begin::Table-->

              <!--begin::Table row-->

              <div class="min-w-250px fs-1 fw-bold text-gray-900">
                Spécifications
              </div>

              <div>
                <ul
                  class="nav flex-wrap nav-pills btn-outline nav-pills-custom gap-2 pb-2 pt-2"
                >
                  <li
                    *ngFor="let ingredient of ingredients; let i = index"
                    style="width: 240px; height: 65px; margin-top: 10px"
                  >
                    <button
                      id="{{ i }}"
                      class="nav-link nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary"
                      (click)="setIngredient(ingredient, i)"
                      style="width: 240px; height: 65px"
                      [disabled]="disableIng"
                    >
                      <div class="">
                        <span
                          class="text-gray-900 fw-bold fs-2 d-block"
                          style="margin-left: 5px"
                          >{{ ingredient.pt_desc1 }}</span
                        >
                      </div>
                    </button>
                  </li>
                  <li style="width: 240px; height: 65px; margin-top: 10px">
                    <button
                      id="ing"
                      class="nav-link nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary"
                      (click)="setAllIngredient(ingredients)"
                      style="width: 240px; height: 65px"
                    >
                      <div class="">
                        <span
                          class="text-gray-900 fw-bold fs-2 d-block"
                          style="margin-left: 5px"
                          >Sans garniture</span
                        >
                      </div>
                    </button>
                  </li>
                </ul>

                <!--end::Tab Content-->
              </div>
              <!-- <tr *ngIf="currentItem.pt_formule">
                          <td class="min-w-250px fs-4 fw-bold">Boissons</td>
                          <td class="w-125px" *ngFor="let boisson of boissons">
                            <div class="form-check form-check-solid">
                              <input
                                (click)="setSoda(boisson)"
                                class="form-check-input"
                                type="checkbox"
                                value=""
                              />
                              <label
                                style="margin-top: 5px"
                                class="form-check-label ps-2"
                                >{{ boisson.pt_desc1 }}</label
                              >
                            </div>
                          </td>
                        </tr> -->

              <!--end::Table-->
            </div>
            <!--end::Card body-->
            <!--begin::Card footer-->
            <div
              class="card-footer d-flex justify-content-center py-6 px-9"
              style="background-color: beige"
            >
              <button
                style="background-color: #9e110d"
                class="btn btn-primary fs-1 w-100 py-4"
                (click)="addProductToCart()"
                (click)="c('Close click')"
              >
                Personnaliser le produit
              </button>
            </div>
            <!--end::Card footer-->
          </form>
          <!--end::Form-->
        </div>
        <!--end::Content-->
      </div>
    </ng-template>
  </div>
  <div>
    <ng-template #content12 let-c="close" let-d="dismiss">
      <div class="modal-header" style="background-color: #f5f5dc">
        <h4 class="modal-title">Envoyer une demande de service</h4>
      </div>
      <div class="modal-header" style="background-color: #f5f5dc">
        <ul class="nav nav-pills btn-outline nav-pills-custom gap-2 pb-2 pt-2">
          <li style="width: 260px; height: 65px">
            <button
              class="nav-link nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary"
              data-bs-toggle="pill"
              type="button"
              (click)="onSelectServiceBuy()"
              style="width: 260px; height: 65px; background-color: #ffb701"
            >
              <div class="">
                <span
                  class="text-gray-900 fw-bold fs-2 d-block"
                  style="margin-left: 5px"
                  >Achat</span
                >
              </div>
            </button>
          </li>
          <!-- <li style="width: 260px; height: 65px">
              <button
                class="nav-link nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary"
                data-bs-toggle="pill"
                type="button"
                (click)="onSelectAutre()"
                style="width: 260px; height: 65px; background-color: #ffb701"
              >
                <div class="">
                  <span
                    class="text-gray-900 fw-bold fs-2 d-block"
                    style="margin-left: 5px"
                    >Service</span
                  >
                </div>
              </button>
            </li> -->
          <!-- <li style="width: 260px; height: 65px">
              <button
                class="nav-link nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary"
                data-bs-toggle="pill"
                type="button"
                (click)="onSelectAutre()"
                style="width: 260px; height: 65px; background-color: #ffb701"
              >
                <div class="">
                  <span
                    class="text-gray-900 fw-bold fs-2 d-block"
                    style="margin-left: 5px"
                    >Investissement</span
                  >
                </div>
              </button>
            </li> -->
          <!-- <li style="width: 260px; height: 65px">
              <button
                class="nav-link nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary"
                data-bs-toggle="pill"
                type="button"
                (click)="onSelectAutre()"
                style="width: 260px; height: 65px; background-color: #ffb701"
              >
                <div class="">
                  <span
                    class="text-gray-900 fw-bold fs-2 d-block"
                    style="margin-left: 5px"
                    >Salaire</span
                  >
                </div>
              </button>
            </li> -->
        </ul>
      </div>

      <div
        class="modal-body"
        style="background-color: #f5f5dc"
        *ngIf="RequestBuyingArticle"
      >
        <div class="row">
          <div class="form-group col-12">
            <!-- <label class="form-group">Choisir une caisse: *</label>
                <div class="input-group input-group-sm">
                  <input
                    type="text"
                    formControlName="bk_code"
                    [className]="
                      bkForm.controls['bk_code'].errors &&
                      (bkForm.controls['bk_code'].dirty ||
                        bkForm.controls['bk_code'].touched)
                        ? 'form-control form-control-sm form-control-solid is-invalid'
                        : 'form-control form-control-sm form-control-solid'
                    "
                    aria-describedby="basic-addon2"
                  />
                  <div class="input-group-append">
                    <span class="input-group-text" (click)="opBk(content6)">
                      <i class="text-dark-50 flaticon2-search"></i>
                    </span>
                  </div>
                  <div
                    *ngIf="
                      bkForm.controls['bk_code'].errors &&
                      (bkForm.controls['bk_code'].dirty ||
                        bkForm.controls['bk_code'].touched)
                    "
                    class="invalid-feedback"
                  >
                    Ce Champs est obligatoire
                  </div>
                </div> -->

            <label class="form-group">Choisir une caisse: *</label>
            <select
              class="form-control form-control-sm form-control-solid"
              id="exampleSelects1"
              [(ngModel)]="selectedBank"
              (change)="selectChangeHandler()"
            >
              <option *ngFor="let elem of bank" [value]="elem.bk_type">
                {{ elem.bk_desc }}
              </option>
            </select>

            <button
              class="btn btn-primary fs-1 w-100 py-4 mt-2"
              (click)="addNewItem()"
            >
              Ajouter un Article
            </button>

            <div class="row" style="margin-top: 10px">
              <angular-slickgrid
                style="background-color: #f5f5dc"
                class="col-12"
                gridHeight="200"
                gridId="mGrid"
                [columnDefinitions]="columnDefinitions5"
                [gridOptions]="gridOptions5"
                [dataset]="dataset5"
                (onAngularGridCreated)="gridReady($event)"
                (sgOnSelectedRowsChanged)="
                  handleSelectedRowsChanged(
                    $event.detail.eventData,
                    $event.detail.args
                  )
                "
              >
              </angular-slickgrid>
            </div>
          </div>
          <button
            hidden
            id="openItemsGrid"
            class="btn btn-primary"
            (click)="open4(content15)"
          >
            Launch demo modal
          </button>

          <!-- <div class="form-group col-4">
                <label class="form-group">Montant à réserver : *</label>
                <input
                  type="text"
                  formControlName="bk_balance"
                  [className]="
                    bkForm.controls['bk_balance'].errors &&
                    (bkForm.controls['bk_balance'].dirty ||
                      bkForm.controls['bk_balance'].touched)
                      ? 'form-control form-control-sm form-control-solid is-invalid'
                      : 'form-control form-control-sm form-control-solid'
                  "
                />
                <div
                  *ngIf="
                    bkForm.controls['bk_balance'].errors &&
                    (bkForm.controls['bk_balance'].dirty ||
                      bkForm.controls['bk_balance'].touched)
                  "
                  class="invalid-feedback"
                >
                  Ce Champs est obligatoire
                </div>
              </div> -->
        </div>
      </div>
      <div class="modal-footer" style="background-color: #f5f5dc">
        <button
          type="button"
          class="btn btn-primary px-12"
          (click)="c('Close click')"
          (click)="PlanPOD()"
        >
          Envoyer demande
        </button>
      </div>
    </ng-template>
  </div>
  <div>
    <kt-portlet-body>
      <ng-template #content6 let-c="close" let-d="dismiss">
        <div class="modal-body" style="background-color: #f5f5dc">
          <div class="row">
            <angular-slickgrid
              class="col-12"
              gridHeight="200"
              gridId="mGrid"
              [columnDefinitions]="columnDefinitions3"
              [gridOptions]="gridOptions3"
              [dataset]="bank"
              (onAngularGridCreated)="gridReady($event)"
              (sgOnSelectedRowsChanged)="
                handleSelectedRowsChanged(
                  $event.detail.eventData,
                  $event.detail.args
                )
              "
            >
            </angular-slickgrid>
          </div>
          <!-- <form [formGroup]="bkForm" class="form">
                <div class="row">
                  <div class="form-group col-6">
                    <label class="form-group">Code caisse:</label>
                    <select
                      (change)="onChangeCode()"
                      class="form-control form-control-sm form-control-solid"
                      id="exampleSelects1"
                      formControlName="bk_code"
                    >
                      <option value=""></option>
                      <option *ngFor="let elem of bank" [value]="elem.bk_desc">
                        {{ elem.bk_desc }}
                      </option>
                    </select>
                  </div>
                  <div class="form-group col-6">
                    <label class="form-group" id="code">N° doc</label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_num_doc'].errors &&
                        (bkForm.controls['bk_num_doc'].dirty ||
                          bkForm.controls['bk_num_doc'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_num_doc"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_num_doc'].errors &&
                        (bkForm.controls['bk_num_doc'].dirty ||
                          bkForm.controls['bk_num_doc'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-6">
                    <label class="form-group" id="code">Montant: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_balance'].errors &&
                        (bkForm.controls['bk_balance'].dirty ||
                          bkForm.controls['bk_balance'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_balance"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_balance'].errors &&
                        (bkForm.controls['bk_balance'].dirty ||
                          bkForm.controls['bk_balance'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-2">
                    <label class="form-group" id="code">2000 DA: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_2000'].errors &&
                        (bkForm.controls['bk_2000'].dirty ||
                          bkForm.controls['bk_2000'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_2000"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_2000'].errors &&
                        (bkForm.controls['bk_2000'].dirty ||
                          bkForm.controls['bk_2000'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">1000: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_1000'].errors &&
                        (bkForm.controls['bk_1000'].dirty ||
                          bkForm.controls['bk_1000'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_1000"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_1000'].errors &&
                        (bkForm.controls['bk_1000'].dirty ||
                          bkForm.controls['bk_1000'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">500: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_0500'].errors &&
                        (bkForm.controls['bk_0500'].dirty ||
                          bkForm.controls['bk_0500'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_0500"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_0500'].errors &&
                        (bkForm.controls['bk_0500'].dirty ||
                          bkForm.controls['bk_0500'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">200: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_0200'].errors &&
                        (bkForm.controls['bk_0200'].dirty ||
                          bkForm.controls['bk_0200'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_0200"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_0200'].errors &&
                        (bkForm.controls['bk_0200'].dirty ||
                          bkForm.controls['bk_0200'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">200p: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p200'].errors &&
                        (bkForm.controls['bk_p200'].dirty ||
                          bkForm.controls['bk_p200'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p200"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p200'].errors &&
                        (bkForm.controls['bk_p200'].dirty ||
                          bkForm.controls['bk_p200'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">100: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p100'].errors &&
                        (bkForm.controls['bk_p100'].dirty ||
                          bkForm.controls['bk_p100'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p100"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p100'].errors &&
                        (bkForm.controls['bk_p100'].dirty ||
                          bkForm.controls['bk_p100'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">50: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p050'].errors &&
                        (bkForm.controls['bk_p050'].dirty ||
                          bkForm.controls['bk_p050'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p050"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p050'].errors &&
                        (bkForm.controls['bk_p050'].dirty ||
                          bkForm.controls['bk_p050'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">20: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p020'].errors &&
                        (bkForm.controls['bk_p020'].dirty ||
                          bkForm.controls['bk_p020'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p020"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p020'].errors &&
                        (bkForm.controls['bk_p020'].dirty ||
                          bkForm.controls['bk_p020'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">10: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p010'].errors &&
                        (bkForm.controls['bk_p010'].dirty ||
                          bkForm.controls['bk_p010'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p010"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p010'].errors &&
                        (bkForm.controls['bk_p010'].dirty ||
                          bkForm.controls['bk_p010'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">5: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p005'].errors &&
                        (bkForm.controls['bk_p005'].dirty ||
                          bkForm.controls['bk_p005'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p005"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p005'].errors &&
                        (bkForm.controls['bk_p005'].dirty ||
                          bkForm.controls['bk_p005'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                </div>
              </form> -->
        </div>
        <div
          class="card-footer d-flex justify-content-end py-6 px-9"
          style="background-color: #f5f5dc"
        >
          <button
            class="btn btn-primary px-12"
            (click)="onSubmitCaisseInventory()"
            (click)="c('Close click')"
          >
            Ajouter inventaire caisse
          </button>
        </div>
      </ng-template>
    </kt-portlet-body>
  </div>
  <div>
    <kt-portlet-body>
      <ng-template #content7 let-c="close" let-d="dismiss">
        <div class="modal-body" style="background-color: #f5f5dc">
          <div class="row">
            <angular-slickgrid
              class="col-12"
              gridHeight="200"
              gridId="mGrid"
              [columnDefinitions]="columnDefinitions3"
              [gridOptions]="gridOptions3"
              [dataset]="bank"
              (onAngularGridCreated)="gridReady($event)"
              (sgOnSelectedRowsChanged)="
                handleSelectedRowsChanged(
                  $event.detail.eventData,
                  $event.detail.args
                )
              "
            >
            </angular-slickgrid>
          </div>
        </div>
        <div
          class="card-footer d-flex justify-content-end py-6 px-9"
          style="background-color: #f5f5dc"
        >
          <button class="btn btn-primary px-12" (click)="c('Close click')">
            Ajouter
          </button>
        </div>
      </ng-template>
    </kt-portlet-body>
  </div>
  <div>
    <kt-portlet-body>
      <ng-template #content10 let-c="close" let-d="dismiss">
        <div class="modal-body" style="background-color: #f5f5dc">
          <div class="row">
            <angular-slickgrid
              class="col-12"
              gridHeight="200"
              gridId="mGrid"
              [columnDefinitions]="columnDefinitions3"
              [gridOptions]="gridOptions3"
              [dataset]="bank"
              (onAngularGridCreated)="gridReady($event)"
              (sgOnSelectedRowsChanged)="
                handleSelectedRowsChanged(
                  $event.detail.eventData,
                  $event.detail.args
                )
              "
            >
            </angular-slickgrid>
          </div>
          <!-- <form [formGroup]="bkForm" class="form">
                <div class="row">
                  <div class="form-group col-6">
                    <label class="form-group">Code caisse:</label>
                    <select
                      (change)="onChangeCode()"
                      class="form-control form-control-sm form-control-solid"
                      id="exampleSelects1"
                      formControlName="bk_code"
                    >
                      <option value=""></option>
                      <option *ngFor="let elem of bank" [value]="elem.bk_desc">
                        {{ elem.bk_desc }}
                      </option>
                    </select>
                  </div>
                  <div class="form-group col-6">
                    <label class="form-group" id="code">N° doc</label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_num_doc'].errors &&
                        (bkForm.controls['bk_num_doc'].dirty ||
                          bkForm.controls['bk_num_doc'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_num_doc"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_num_doc'].errors &&
                        (bkForm.controls['bk_num_doc'].dirty ||
                          bkForm.controls['bk_num_doc'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-6">
                    <label class="form-group" id="code">Montant: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_balance'].errors &&
                        (bkForm.controls['bk_balance'].dirty ||
                          bkForm.controls['bk_balance'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_balance"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_balance'].errors &&
                        (bkForm.controls['bk_balance'].dirty ||
                          bkForm.controls['bk_balance'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-2">
                    <label class="form-group" id="code">2000 DA: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_2000'].errors &&
                        (bkForm.controls['bk_2000'].dirty ||
                          bkForm.controls['bk_2000'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_2000"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_2000'].errors &&
                        (bkForm.controls['bk_2000'].dirty ||
                          bkForm.controls['bk_2000'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">1000: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_1000'].errors &&
                        (bkForm.controls['bk_1000'].dirty ||
                          bkForm.controls['bk_1000'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_1000"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_1000'].errors &&
                        (bkForm.controls['bk_1000'].dirty ||
                          bkForm.controls['bk_1000'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">500: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_0500'].errors &&
                        (bkForm.controls['bk_0500'].dirty ||
                          bkForm.controls['bk_0500'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_0500"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_0500'].errors &&
                        (bkForm.controls['bk_0500'].dirty ||
                          bkForm.controls['bk_0500'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">200: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_0200'].errors &&
                        (bkForm.controls['bk_0200'].dirty ||
                          bkForm.controls['bk_0200'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_0200"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_0200'].errors &&
                        (bkForm.controls['bk_0200'].dirty ||
                          bkForm.controls['bk_0200'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">200p: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p200'].errors &&
                        (bkForm.controls['bk_p200'].dirty ||
                          bkForm.controls['bk_p200'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p200"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p200'].errors &&
                        (bkForm.controls['bk_p200'].dirty ||
                          bkForm.controls['bk_p200'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">100: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p100'].errors &&
                        (bkForm.controls['bk_p100'].dirty ||
                          bkForm.controls['bk_p100'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p100"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p100'].errors &&
                        (bkForm.controls['bk_p100'].dirty ||
                          bkForm.controls['bk_p100'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">50: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p050'].errors &&
                        (bkForm.controls['bk_p050'].dirty ||
                          bkForm.controls['bk_p050'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p050"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p050'].errors &&
                        (bkForm.controls['bk_p050'].dirty ||
                          bkForm.controls['bk_p050'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">20: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p020'].errors &&
                        (bkForm.controls['bk_p020'].dirty ||
                          bkForm.controls['bk_p020'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p020"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p020'].errors &&
                        (bkForm.controls['bk_p020'].dirty ||
                          bkForm.controls['bk_p020'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">10: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p010'].errors &&
                        (bkForm.controls['bk_p010'].dirty ||
                          bkForm.controls['bk_p010'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p010"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p010'].errors &&
                        (bkForm.controls['bk_p010'].dirty ||
                          bkForm.controls['bk_p010'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                  <div class="form-group col-2">
                    <label class="form-group" id="code">5: </label>
                    <input
                      type="text"
                      [className]="
                        bkForm.controls['bk_p005'].errors &&
                        (bkForm.controls['bk_p005'].dirty ||
                          bkForm.controls['bk_p005'].touched)
                          ? 'form-control form-control-sm form-control-solid is-invalid'
                          : 'form-control form-control-sm form-control-solid'
                      "
                      formControlName="bk_p005"
                    />
                    <div
                      *ngIf="
                        bkForm.controls['bk_p005'].errors &&
                        (bkForm.controls['bk_p005'].dirty ||
                          bkForm.controls['bk_p005'].touched)
                      "
                      class="invalid-feedback"
                    >
                      Ce Champs est obligatoire
                    </div>
                  </div>
                </div>
              </form> -->
        </div>
        <div
          class="card-footer d-flex justify-content-end py-6 px-9"
          style="background-color: #f5f5dc"
        >
          <button
            class="btn btn-primary px-12"
            (click)="onSubmitCaisseClotureInventory()"
            (click)="c('Close click')"
          >
            Entrer inventaire de clôture caisse
          </button>
        </div>
      </ng-template>
    </kt-portlet-body>
  </div>
  <div>
    <ng-template #content15 let-c="close" let-d="dismiss">
      <div class="modal-header" style="background-color: #f5f5dc">
        <h4 class="modal-title">Choissir l'article</h4>
      </div>
      <div class="modal-body" style="background-color: #f5f5dc">
        <div class="row">
          <angular-slickgrid
            class="col-12"
            gridHeight="500"
            gridId="pGrid"
            [columnDefinitions]="columnDefinitions4"
            [gridOptions]="gridOptions4"
            [dataset]="items"
            (onAngularGridCreated)="gridReady4($event)"
            (sgOnSelectedRowsChanged)="
              handleSelectedRowsChanged4(
                $event.detail.eventData,
                $event.detail.args
              )
            "
          >
          </angular-slickgrid>
        </div>
      </div>
      <div class="modal-footer" style="background-color: #f5f5dc">
        <button
          type="button"
          class="btn btn-secondary"
          (click)="c('Close click')"
        >
          Annuller
        </button>
        <button
          type="button"
          class="btn btn-primary"
          (click)="c('Close click')"
        >
          Ok
        </button>
      </div>
    </ng-template>
    <button
      hidden
      id="openItemsGrid"
      class="btn btn-primary"
      (click)="open4(content15)"
    >
      Launch demo modal
    </button>
  </div>
  <div>
    <ng-template #content16 let-c="close" let-d="dismiss">
      <div class="modal-header" style="background-color: #f5f5dc">
        <h4 class="modal-title">Alimentation caisse régie</h4>
      </div>
      <div class="modal-body" style="background-color: #f5f5dc">
        <form class="form" [formGroup]="mvForm">
          <div class="row">
            <div class="form-group col-6">
              <label class="form-group">Cause: *</label>
              <div class="input-group input-group-sm">
                <input
                  type="text"
                  formControlName="mv_cause"
                  [className]="
                    mvForm.controls['mv_cause'].errors &&
                    (mvForm.controls['mv_cause'].dirty ||
                      mvForm.controls['mv_cause'].touched)
                      ? 'form-control form-control-sm form-control-solid is-invalid'
                      : 'form-control form-control-sm form-control-solid'
                  "
                  aria-describedby="basic-addon2"
                />

                <div
                  *ngIf="
                    mvForm.controls['mv_cause'].errors &&
                    (mvForm.controls['mv_cause'].dirty ||
                      mvForm.controls['mv_cause'].touched)
                  "
                  class="invalid-feedback"
                >
                  Ce Champs est obligatoire
                </div>
              </div>

              <label class="form-group">Montant: *</label>
              <div class="input-group input-group-sm">
                <input
                  type="number"
                  formControlName="mv_amt"
                  [className]="
                    mvForm.controls['mv_amt'].errors &&
                    (mvForm.controls['mv_amt'].dirty ||
                      mvForm.controls['mv_amt'].touched)
                      ? 'form-control form-control-sm form-control-solid is-invalid'
                      : 'form-control form-control-sm form-control-solid'
                  "
                  aria-describedby="basic-addon2"
                />

                <div
                  *ngIf="
                    mvForm.controls['mv_amt'].errors &&
                    (mvForm.controls['mv_amt'].dirty ||
                      mvForm.controls['mv_amt'].touched)
                  "
                  class="invalid-feedback"
                >
                  Ce Champs est obligatoire
                </div>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer" style="background-color: #f5f5dc">
        <button
          type="button"
          class="btn btn-secondary"
          (click)="c('Close click')"
        >
          Annuller
        </button>
        <button
          type="button"
          class="btn btn-primary"
          (click)="c('Close click')"
          (click)="onSubmitMv()"
        >
          Ok
        </button>
      </div>
    </ng-template>
  </div>
  <div>
    <ng-template #content17 let-c="close" let-d="dismiss">
      <div class="modal-header" style="background-color: #f5f5dc">
        <h4 class="modal-title">Ajout d'un nouveau client</h4>
      </div>
      <div class="modal-body" style="background-color: #f5f5dc">
        <form class="form" [formGroup]="customerForm">
          <div class="row">
            <div class="form-group col-12">
              <kt-alert
                *ngIf="isExist"
                type="warn"
                [showCloseButton]="true"
                [duration]="10000"
                (close)="onAlertClose($event)"
              >
                Ce numéro de téléphone existe déjà
              </kt-alert>
            </div>
            <div class="form-group col-4">
              <label class="form-group" id="code">Numéro de téléphone :</label>
              <input
                type="text"
                (change)="onChangeCode()"
                id="phone"
                [className]="
                  customerForm.controls['customer_phone_one'].errors &&
                  (customerForm.controls['customer_phone_one'].dirty ||
                    customerForm.controls['customer_phone_one'].touched)
                    ? 'form-control form-control-sm form-control-solid is-invalid'
                    : 'form-control form-control-sm form-control-solid'
                "
                formControlName="customer_phone_one"
              />
              <div
                *ngIf="
                  customerForm.controls['customer_phone_one'].errors &&
                  (customerForm.controls['customer_phone_one'].dirty ||
                    customerForm.controls['customer_phone_one'].touched)
                "
                class="invalid-feedback"
              >
                Ce Champs est obligatoire
              </div>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-3">
              <label class="form-group">Sexe: *</label>
              <select
                class="form-control form-control-sm form-control-solid"
                id="exampleSelects1"
                (change)="selectOption($event.target.value)"
              >
                <option value=""></option>
                <option>Homme</option>
                <option>Femme</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-4">
              <label class="form-group" id="code">Nom :</label>
              <input
                type="text"
                [className]="
                  customerForm.controls['customer_name'].errors &&
                  (customerForm.controls['customer_name'].dirty ||
                    customerForm.controls['customer_name'].touched)
                    ? 'form-control form-control-sm form-control-solid is-invalid'
                    : 'form-control form-control-sm form-control-solid'
                "
                formControlName="customer_name"
              />
              <div
                *ngIf="
                  customerForm.controls['customer_name'].errors &&
                  (customerForm.controls['customer_name'].dirty ||
                    customerForm.controls['customer_name'].touched)
                "
                class="invalid-feedback"
              >
                Ce Champs est obligatoire
              </div>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-4">
              <label class="form-group" id="code">Address :</label>
              <input
                type="text"
                [className]="
                  customerForm.controls['customer_addr'].errors &&
                  (customerForm.controls['customer_addr'].dirty ||
                    customerForm.controls['customer_addr'].touched)
                    ? 'form-control form-control-sm form-control-solid is-invalid'
                    : 'form-control form-control-sm form-control-solid'
                "
                formControlName="customer_addr"
              />
              <div
                *ngIf="
                  customerForm.controls['customer_addr'].errors &&
                  (customerForm.controls['customer_addr'].dirty ||
                    customerForm.controls['customer_addr'].touched)
                "
                class="invalid-feedback"
              >
                Ce Champs est obligatoire
              </div>
            </div>
          </div>

          <div class="row">
            <div class="form-group col-4">
              <label class="form-group" id="code">Age :</label>
              <input
                type="text"
                [className]="
                  customerForm.controls['customer_birthday'].errors &&
                  (customerForm.controls['customer_birthday'].dirty ||
                    customerForm.controls['customer_birthday'].touched)
                    ? 'form-control form-control-sm form-control-solid is-invalid'
                    : 'form-control form-control-sm form-control-solid'
                "
                formControlName="customer_birthday"
              />
              <div
                *ngIf="
                  customerForm.controls['customer_birthday'].errors &&
                  (customerForm.controls['customer_birthday'].dirty ||
                    customerForm.controls['customer_birthday'].touched)
                "
                class="invalid-feedback"
              >
                Ce Champs est obligatoire
              </div>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-4">
              <label class="form-group" id="code">Adresse email :</label>
              <input
                type="text"
                [className]="
                  customerForm.controls['customer_mail'].errors &&
                  (customerForm.controls['customer_mail'].dirty ||
                    customerForm.controls['customer_mail'].touched)
                    ? 'form-control form-control-sm form-control-solid is-invalid'
                    : 'form-control form-control-sm form-control-solid'
                "
                formControlName="customer_mail"
              />
              <div
                *ngIf="
                  customerForm.controls['customer_mail'].errors &&
                  (customerForm.controls['customer_mail'].dirty ||
                    customerForm.controls['customer_mail'].touched)
                "
                class="invalid-feedback"
              >
                Ce Champs est obligatoire
              </div>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer" style="background-color: #f5f5dc">
        <button
          type="button"
          class="btn btn-secondary"
          (click)="c('Close click')"
        >
          Annuller
        </button>
        <button
          type="button"
          class="btn btn-primary"
          (click)="c('Close click')"
          (click)="onSubmitCustomer()"
        >
          Ok
        </button>
      </div>
    </ng-template>
  </div>
  <div>
    <ng-template #content18 let-c="close" let-d="dismiss">
      <div class="modal-header">
        <h4 class="modal-title">Pointage des employés</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <angular-slickgrid
            class="col-12"
            gridHeight="500"
            gridId="empGrid"
            [columnDefinitions]="columnDefinitions18"
            [gridOptions]="gridOptions18"
            [dataset]="emps"
            (onAngularGridCreated)="gridReady18($event)"
          >
          </angular-slickgrid>
        </div>
      </div>
      <div class="modal-footer">
        <button
          class="btn btn-primary px-12"
          (click)="onSubmitEmpTime()"
          (click)="c('Close click')"
        >
          Ajouter Pointage Employés
        </button>
      </div>
    </ng-template>
  </div>
  <div>
    <ng-template #content19 let-c="close" let-d="dismiss">
      <div class="modal-header" style="background-color: #f5f5dc">
        <h4 class="modal-title">Plateforme de livraisons</h4>
      </div>
      <div class="modal-body" style="background-color: #f5f5dc">
        <div style="margin-top: 10px">
          <div class="card card-flush card-p-0 bg-transparent border-0">
            <div>
              <ul
                class="nav nav-pills flex-wrap btn-outline nav-pills-custom gap-2 pb-2 pt-2"
              >
                <li
                  *ngFor="let platforme of platformes"
                  style="width: 200px; height: 65px"
                >
                  <button
                    class="nav-link nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary"
                    data-bs-toggle="pill"
                    type="button"
                    (click)="onSelectDelivery(platforme)"
                    style="
                      width: 200px;
                      height: 65px;
                      background-color: #ffb701;
                    "
                  >
                    <div class="">
                      <span
                        class="text-gray-900 fw-bold fs-2 d-block"
                        style="margin-left: 5px"
                        >{{ platforme.code_desc }}</span
                      >
                    </div>
                  </button>
                </li>
              </ul>

              <!--end::Tab Content-->
            </div>
            <!--end: Card Body-->
          </div>
          <!--end::Pos food-->
        </div>
        <div style="margin-top: 10px">
          <div class="card card-flush card-p-0 bg-transparent border-0">
            <div>
              <ul
                class="nav nav-pills btn-outline nav-pills-custom gap-2 pb-2 pt-2"
              >
                <li
                  *ngFor="let p of currentPlatformeOffers; let index = index"
                  style="width: 200px; height: 150px"
                >
                  <button
                    class="nav-link nav-link-border-solid btn btn-outline btn-flex btn-active-color-primary"
                    data-bs-toggle="pill"
                    type="button"
                    (click)="applyDiscount(p)"
                    (click)="c('Close click')"
                    [disabled]="p.actif"
                    style="
                      width: 200px;
                      height: 150px;
                      background-color: #ffb701;
                    "
                  >
                    <div class="">
                      <span
                        class="text-gray-900 fw-bold fs-2 d-block"
                        style="margin-left: 5px"
                        >Offre {{ index + 1 }}
                      </span>
                      <span
                        class="text-gray-900 fw-bold fs-4 d-block"
                        style="margin-left: 12px"
                        >{{ p.del_pct_disc }} % de réduction
                      </span>
                      <span
                        *ngFor="let pOFF of productOffers"
                        class="text-gray-900 fw-bold fs-7 d-block"
                        style="margin-left: 10px"
                        >{{ pOFF.pt_desc1 }}
                      </span>
                    </div>
                  </button>
                </li>
              </ul>

              <!--end::Tab Content-->
            </div>
            <!--end: Card Body-->
          </div>
          <!--end::Pos food-->
        </div>
      </div>
    </ng-template>
  </div>
  <div>
    <ng-template #content20 let-c="close" let-d="dismiss">
      <div class="modal-header" style="background-color: #f5f5dc">
        <h4 class="modal-title">Paiement des articles receptionnés</h4>
      </div>
      <div class="modal-body" style="background-color: #f5f5dc">
        <div class="row">
          <angular-slickgrid
            class="col-12"
            gridHeight="500"
            gridId="mGrid"
            [columnDefinitions]="columnDefinitions6"
            [gridOptions]="gridOptions6"
            [dataset]="dataset6"
            (onAngularGridCreated)="gridReady6($event)"
          >
          </angular-slickgrid>
        </div>
      </div>
      <div class="modal-footer" style="background-color: #f5f5dc">
        <button
          type="button"
          class="btn btn-secondary"
          (click)="c('Close click')"
        >
          Annuller
        </button>
        <button
          type="button"
          class="btn btn-primary"
          (click)="c('Close click')"
          (click)="payPO()"
        >
          Payer
        </button>
      </div>
    </ng-template>
  </div>
</body>
